{"ast":null,"code":"import _regeneratorRuntime from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState,useEffect}from\"react\";import{useDispatch}from\"react-redux\";import{Link}from\"react-router-dom\";import Search from\"./Search\";import{memo}from\"react\";import{logoutAction}from\"../../redux/actions/authActions\";import{IoLogOutOutline}from\"react-icons/io5\";import{Transition}from\"@headlessui/react\";import{AiOutlineBars}from\"react-icons/ai\";import{RxCross1}from\"react-icons/rx\";import Logo from\"../../assets/SocialEcho.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=function Navbar(_ref){var userData=_ref.userData,toggleLeftbar=_ref.toggleLeftbar,showLeftbar=_ref.showLeftbar;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loggingOut=_useState2[0],setLoggingOut=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showDropdown=_useState4[0],setShowDropdown=_useState4[1];var dropdownRef=useRef(null);var handleProfileClick=function handleProfileClick(){setShowDropdown(!showDropdown);};var logout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoggingOut(true);_context.next=3;return dispatch(logoutAction());case 3:setLoggingOut(false);case 4:case\"end\":return _context.stop();}},_callee);}));return function logout(){return _ref2.apply(this,arguments);};}();useEffect(function(){var handleOutsideClick=function handleOutsideClick(event){if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setShowDropdown(false);}};document.addEventListener(\"click\",handleOutsideClick);return function(){document.removeEventListener(\"click\",handleOutsideClick);};},[]);return/*#__PURE__*/_jsxs(\"nav\",{className:\"sticky top-0 z-20 mb-5 flex justify-center gap-10 border bg-white p-2 md:items-center md:justify-between md:px-36\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"hidden md:inline-block\",children:/*#__PURE__*/_jsx(\"img\",{className:\"w-36\",src:Logo,alt:\"\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"inline-block md:hidden\",onClick:toggleLeftbar,children:showLeftbar?/*#__PURE__*/_jsx(RxCross1,{}):/*#__PURE__*/_jsx(AiOutlineBars,{})}),/*#__PURE__*/_jsx(Search,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex justify-end md:w-36\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"inline-flex h-8 w-8 cursor-pointer items-center justify-center rounded-full\",onClick:handleProfileClick,children:/*#__PURE__*/_jsx(\"img\",{src:userData.avatar,alt:\"profile\",className:\"h-8 w-8 rounded-full object-cover\"})}),/*#__PURE__*/_jsx(Transition,{show:showDropdown,enter:\"transition ease-out duration-100 transform\",enterFrom:\"opacity-0 scale-95\",enterTo:\"opacity-100 scale-100\",leave:\"transition ease-in duration-75 transform\",leaveFrom:\"opacity-100 scale-100\",leaveTo:\"opacity-0 scale-95\",children:function children(){return/*#__PURE__*/_jsx(\"div\",{ref:dropdownRef,className:\"absolute right-0 top-10 mt-2 w-72 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none\",role:\"menu\",\"aria-orientation\":\"vertical\",\"aria-labelledby\":\"user-menu\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-1\",role:\"none\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:userData.avatar,alt:\"profile\",className:\"mb-2 h-16 w-16 rounded-full object-cover\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-gray-700 hover:underline\",children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:userData.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:userData.email})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"block w-full px-4 py-2  text-left text-sm text-red-400 hover:cursor-pointer hover:text-red-600\",role:\"menuitem\",onClick:logout,disabled:loggingOut,children:loggingOut?/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Logging out...\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Logout\"}),/*#__PURE__*/_jsx(IoLogOutOutline,{className:\"ml-2\"})]})})})]})});}})]})]});};export default/*#__PURE__*/memo(Navbar);","map":{"version":3,"names":["useRef","useState","useEffect","useDispatch","Link","Search","memo","logoutAction","IoLogOutOutline","Transition","AiOutlineBars","RxCross1","Logo","jsx","_jsx","jsxs","_jsxs","Navbar","_ref","userData","toggleLeftbar","showLeftbar","dispatch","_useState","_useState2","_slicedToArray","loggingOut","setLoggingOut","_useState3","_useState4","showDropdown","setShowDropdown","dropdownRef","handleProfileClick","logout","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","apply","arguments","handleOutsideClick","event","current","contains","target","document","addEventListener","removeEventListener","className","children","to","src","alt","onClick","type","avatar","show","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","ref","role","name","email","disabled"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/components/shared/Navbar.jsx"],"sourcesContent":["import { useRef, useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Search from \"./Search\";\nimport { memo } from \"react\";\nimport { logoutAction } from \"../../redux/actions/authActions\";\nimport { IoLogOutOutline } from \"react-icons/io5\";\nimport { Transition } from \"@headlessui/react\";\nimport { AiOutlineBars } from \"react-icons/ai\";\nimport { RxCross1 } from \"react-icons/rx\";\nimport Logo from \"../../assets/SocialEcho.png\";\n\nconst Navbar = ({ userData, toggleLeftbar, showLeftbar }) => {\n  const dispatch = useDispatch();\n  const [loggingOut, setLoggingOut] = useState(false);\n  const [showDropdown, setShowDropdown] = useState(false);\n\n  const dropdownRef = useRef(null);\n\n  const handleProfileClick = () => {\n    setShowDropdown(!showDropdown);\n  };\n\n  const logout = async () => {\n    setLoggingOut(true);\n    await dispatch(logoutAction());\n    setLoggingOut(false);\n  };\n\n  useEffect(() => {\n    const handleOutsideClick = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setShowDropdown(false);\n      }\n    };\n\n    document.addEventListener(\"click\", handleOutsideClick);\n\n    return () => {\n      document.removeEventListener(\"click\", handleOutsideClick);\n    };\n  }, []);\n\n  return (\n    <nav className=\"sticky top-0 z-20 mb-5 flex justify-center gap-10 border bg-white p-2 md:items-center md:justify-between md:px-36\">\n      <Link to=\"/\" className=\"hidden md:inline-block\">\n        <img className=\"w-36\" src={Logo} alt=\"\" />\n      </Link>\n\n      <button className=\"inline-block md:hidden\" onClick={toggleLeftbar}>\n        {showLeftbar ? <RxCross1 /> : <AiOutlineBars />}\n      </button>\n\n      <Search />\n\n      <div className=\"relative flex justify-end md:w-36\">\n        <button\n          type=\"button\"\n          className=\"inline-flex h-8 w-8 cursor-pointer items-center justify-center rounded-full\"\n          onClick={handleProfileClick}\n        >\n          <img\n            src={userData.avatar}\n            alt=\"profile\"\n            className=\"h-8 w-8 rounded-full object-cover\"\n          />\n        </button>\n        <Transition\n          show={showDropdown}\n          enter=\"transition ease-out duration-100 transform\"\n          enterFrom=\"opacity-0 scale-95\"\n          enterTo=\"opacity-100 scale-100\"\n          leave=\"transition ease-in duration-75 transform\"\n          leaveFrom=\"opacity-100 scale-100\"\n          leaveTo=\"opacity-0 scale-95\"\n        >\n          {() => (\n            <div\n              ref={dropdownRef}\n              className=\"absolute right-0 top-10 mt-2 w-72 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none\"\n              role=\"menu\"\n              aria-orientation=\"vertical\"\n              aria-labelledby=\"user-menu\"\n            >\n              <div className=\"py-1\" role=\"none\">\n                <div className=\"flex flex-col items-center\">\n                  <img\n                    src={userData.avatar}\n                    alt=\"profile\"\n                    className=\"mb-2 h-16 w-16 rounded-full object-cover\"\n                  />\n                  <div className=\"text-sm font-semibold text-gray-700 hover:underline\">\n                    <Link to={`/profile`}>{userData.name}</Link>\n                  </div>\n                  <div className=\"text-sm text-gray-500\">{userData.email}</div>\n                </div>\n                <hr className=\"my-2\" />\n                <div className=\"flex justify-center\">\n                  <button\n                    type=\"button\"\n                    className=\"block w-full px-4 py-2  text-left text-sm text-red-400 hover:cursor-pointer hover:text-red-600\"\n                    role=\"menuitem\"\n                    onClick={logout}\n                    disabled={loggingOut}\n                  >\n                    {loggingOut ? (\n                      <div className=\"text-center\">Logging out...</div>\n                    ) : (\n                      <div className=\"flex items-center justify-center\">\n                        <span>Logout</span>\n                        <IoLogOutOutline className=\"ml-2\" />\n                      </div>\n                    )}\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </Transition>\n      </div>\n    </nav>\n  );\n};\n\nexport default memo(Navbar);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}