{"ast":null,"code":"import _regeneratorRuntime from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{configureStore}from\"@reduxjs/toolkit\";import thunk from\"redux-thunk\";import rootReducer from\"./reducers\";import{tokenMiddleware}from\"../middlewares/tokenMiddleware\";import{initializeAuth}from\"./actions/authActions\";var createAppStore=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var store;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;store=configureStore({reducer:rootReducer,middleware:[thunk,tokenMiddleware]});_context.next=4;return store.dispatch(initializeAuth());case 4:return _context.abrupt(\"return\",store);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);throw new Error(\"Some error occurred\");case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function createAppStore(){return _ref.apply(this,arguments);};}();export default createAppStore;","map":{"version":3,"names":["configureStore","thunk","rootReducer","tokenMiddleware","initializeAuth","createAppStore","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","store","wrap","_callee$","_context","prev","next","reducer","middleware","dispatch","abrupt","t0","Error","stop","apply","arguments"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/redux/store.js"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\nimport { tokenMiddleware } from \"../middlewares/tokenMiddleware\";\nimport { initializeAuth } from \"./actions/authActions\";\n\nconst createAppStore = async () => {\n  try {\n    const store = configureStore({\n      reducer: rootReducer,\n      middleware: [thunk, tokenMiddleware],\n    });\n\n    await store.dispatch(initializeAuth());\n\n    return store;\n  } catch (err) {\n    throw new Error(\"Some error occurred\");\n  }\n};\n\nexport default createAppStore;\n"],"mappings":"oSAAA,OAASA,cAAc,KAAQ,kBAAkB,CACjD,MAAO,CAAAC,KAAK,KAAM,aAAa,CAC/B,MAAO,CAAAC,WAAW,KAAM,YAAY,CACpC,OAASC,eAAe,KAAQ,gCAAgC,CAChE,OAASC,cAAc,KAAQ,uBAAuB,CAEtD,GAAM,CAAAC,cAAc,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,KAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAEbJ,KAAK,CAAGX,cAAc,CAAC,CAC3BiB,OAAO,CAAEf,WAAW,CACpBgB,UAAU,CAAE,CAACjB,KAAK,CAAEE,eAAe,CACrC,CAAC,CAAC,CAAAW,QAAA,CAAAE,IAAA,SAEI,CAAAL,KAAK,CAACQ,QAAQ,CAACf,cAAc,CAAC,CAAC,CAAC,eAAAU,QAAA,CAAAM,MAAA,UAE/BT,KAAK,SAAAG,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,kBAEN,IAAI,CAAAQ,KAAK,CAAC,qBAAqB,CAAC,0BAAAR,QAAA,CAAAS,IAAA,MAAAb,OAAA,gBAEzC,kBAbK,CAAAL,cAAcA,CAAA,SAAAC,IAAA,CAAAkB,KAAA,MAAAC,SAAA,OAanB,CAED,cAAe,CAAApB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}