{"ast":null,"code":"import _regeneratorRuntime from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useMemo,useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{getJoinedCommunitiesAction}from\"../redux/actions/communityActions\";import JoinedCommunityCard from\"../components/community/JoinedCommunityCard\";import CommonLoading from\"../components/loader/CommonLoading\";import{jsx as _jsx}from\"react/jsx-runtime\";var MyCommunities=function MyCommunities(){var dispatch=useDispatch();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var joinedCommunities=useSelector(function(state){var _state$community;return(_state$community=state.community)===null||_state$community===void 0?void 0:_state$community.joinedCommunities;});useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(getJoinedCommunitiesAction());case 2:setLoading(false);case 3:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[dispatch]);var communityCards=useMemo(function(){if(!joinedCommunities){return null;}return joinedCommunities.map(function(community){return/*#__PURE__*/_jsx(\"div\",{className:\"main-section flex items-center\",children:/*#__PURE__*/_jsx(JoinedCommunityCard,{className:\"mb-5\",community:community})},community._id);});},[joinedCommunities]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"col-span-2 flex h-screen items-center justify-center\",children:/*#__PURE__*/_jsx(CommonLoading,{})});}return/*#__PURE__*/_jsx(\"div\",{className:\"main-section\",children:communityCards});};export default MyCommunities;","map":{"version":3,"names":["useMemo","useState","useEffect","useSelector","useDispatch","getJoinedCommunitiesAction","JoinedCommunityCard","CommonLoading","jsx","_jsx","MyCommunities","dispatch","_useState","_useState2","_slicedToArray","loading","setLoading","joinedCommunities","state","_state$community","community","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","apply","arguments","communityCards","map","className","children","_id"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/pages/MyCommunities.jsx"],"sourcesContent":["import { useMemo, useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getJoinedCommunitiesAction } from \"../redux/actions/communityActions\";\nimport JoinedCommunityCard from \"../components/community/JoinedCommunityCard\";\nimport CommonLoading from \"../components/loader/CommonLoading\";\n\nconst MyCommunities = () => {\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(true);\n\n  const joinedCommunities = useSelector(\n    (state) => state.community?.joinedCommunities\n  );\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await dispatch(getJoinedCommunitiesAction());\n      setLoading(false);\n    };\n    fetchData();\n  }, [dispatch]);\n\n  const communityCards = useMemo(() => {\n    if (!joinedCommunities) {\n      return null;\n    }\n    return joinedCommunities.map((community) => (\n      <div key={community._id} className=\"main-section flex items-center\">\n        <JoinedCommunityCard className=\"mb-5\" community={community} />\n      </div>\n    ));\n  }, [joinedCommunities]);\n\n  if (loading) {\n    return (\n      <div className=\"col-span-2 flex h-screen items-center justify-center\">\n        <CommonLoading />\n      </div>\n    );\n  }\n\n  return <div className=\"main-section\">{communityCards}</div>;\n};\n\nexport default MyCommunities;\n"],"mappings":"8aAAA,OAASA,OAAO,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CACpD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,0BAA0B,KAAQ,mCAAmC,CAC9E,MAAO,CAAAC,mBAAmB,KAAM,6CAA6C,CAC7E,MAAO,CAAAC,aAAa,KAAM,oCAAoC,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/D,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,GAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,IAAAQ,SAAA,CAA8BX,QAAQ,CAAC,IAAI,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAE1B,GAAM,CAAAI,iBAAiB,CAAGd,WAAW,CACnC,SAACe,KAAK,MAAAC,gBAAA,QAAAA,gBAAA,CAAKD,KAAK,CAACE,SAAS,UAAAD,gBAAA,iBAAfA,gBAAA,CAAiBF,iBAAiB,EAC/C,CAAC,CAEDf,SAAS,CAAC,UAAM,CACd,GAAM,CAAAmB,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACV,CAAApB,QAAQ,CAACN,0BAA0B,CAAC,CAAC,CAAC,QAC5CW,UAAU,CAAC,KAAK,CAAC,CAAC,wBAAAa,QAAA,CAAAG,IAAA,MAAAN,OAAA,GACnB,kBAHK,CAAAL,SAASA,CAAA,SAAAC,IAAA,CAAAW,KAAA,MAAAC,SAAA,OAGd,CACDb,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACV,QAAQ,CAAC,CAAC,CAEd,GAAM,CAAAwB,cAAc,CAAGnC,OAAO,CAAC,UAAM,CACnC,GAAI,CAACiB,iBAAiB,CAAE,CACtB,MAAO,KAAI,CACb,CACA,MAAO,CAAAA,iBAAiB,CAACmB,GAAG,CAAC,SAAChB,SAAS,qBACrCX,IAAA,QAAyB4B,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cACjE7B,IAAA,CAACH,mBAAmB,EAAC+B,SAAS,CAAC,MAAM,CAACjB,SAAS,CAAEA,SAAU,CAAE,CAAC,EADtDA,SAAS,CAACmB,GAEf,CAAC,EACP,CAAC,CACJ,CAAC,CAAE,CAACtB,iBAAiB,CAAC,CAAC,CAEvB,GAAIF,OAAO,CAAE,CACX,mBACEN,IAAA,QAAK4B,SAAS,CAAC,sDAAsD,CAAAC,QAAA,cACnE7B,IAAA,CAACF,aAAa,GAAE,CAAC,CACd,CAAC,CAEV,CAEA,mBAAOE,IAAA,QAAK4B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEH,cAAc,CAAM,CAAC,CAC7D,CAAC,CAED,cAAe,CAAAzB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}