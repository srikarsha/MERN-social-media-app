{"ast":null,"code":"var _jsxFileName = \"E:\\\\SEM 4\\\\MERN\\\\end_sem_project\\\\SocialEcho-main\\\\client\\\\src\\\\components\\\\modals\\\\ReportPostModal.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { reportPostAction } from \"../../redux/actions/communityActions\";\nimport { useDispatch } from \"react-redux\";\nimport { Dialog } from \"@headlessui/react\";\nimport ButtonLoadingSpinner from \"../loader/ButtonLoadingSpinner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReportPostModal = ({\n  isOpen,\n  onClose,\n  postId,\n  communityId,\n  setReportedPost\n}) => {\n  _s();\n  const [reportReason, setReportReason] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const dispatch = useDispatch();\n  const handleReportSubmit = async () => {\n    setIsLoading(true);\n    try {\n      await dispatch(reportPostAction({\n        postId,\n        reportReason,\n        communityId\n      }));\n      setIsLoading(false);\n      setReportedPost(true);\n      onClose();\n    } catch (error) {\n      setIsLoading(false);\n      onClose();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: isOpen,\n    onClose: onClose,\n    className: \"fixed inset-0 z-50 overflow-y-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 flex items-center justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(Dialog.Overlay, {\n        className: \"fixed inset-0 bg-black opacity-30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-block align-middle bg-white rounded-md text-left shadow-xl transform transition-all w-full mx-4 md:max-w-lg\",\n        children: [/*#__PURE__*/_jsxDEV(Dialog.Title, {\n          as: \"h3\",\n          className: \"text-lg font-medium leading-6 text-gray-900 p-4\",\n          children: \"Report Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"report-reason\",\n            className: \"block text-sm font-medium text-gray-700\",\n            children: \"Reason for report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-1\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"report-reason\",\n              className: \"shadow-sm block w-full sm:text-sm rounded-md h-24 resize-none p-3 focus:outline-none focus:border\",\n              id: \"report-reason\",\n              value: reportReason,\n              onChange: e => setReportReason(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: isLoading || !reportReason,\n            type: \"button\",\n            className: `inline-flex justify-center px-4 py-2 text-sm font-medium text-white border rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 ${isLoading || !reportReason ? \"bg-gray-400 cursor-not-allowed\" : \"bg-primary border-transparent hover:bg-blue-600 focus-visible:ring-blue-500\"}`,\n            onClick: handleReportSubmit,\n            children: isLoading ? /*#__PURE__*/_jsxDEV(ButtonLoadingSpinner, {\n              loadingText: \"Reporting...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this) : \"Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"inline-flex justify-center px-4 py-2 ml-4 text-sm font-medium text-gray-700 bg-gray-100 border border-transparent rounded-md hover:bg-gray-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500\",\n            onClick: onClose,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(ReportPostModal, \"/qmsvBtPHOTGdygwe5xYlqr/aVM=\", false, function () {\n  return [useDispatch];\n});\n_c = ReportPostModal;\nexport default ReportPostModal;\nvar _c;\n$RefreshReg$(_c, \"ReportPostModal\");","map":{"version":3,"names":["useState","reportPostAction","useDispatch","Dialog","ButtonLoadingSpinner","jsxDEV","_jsxDEV","ReportPostModal","isOpen","onClose","postId","communityId","setReportedPost","_s","reportReason","setReportReason","isLoading","setIsLoading","dispatch","handleReportSubmit","error","open","className","children","Overlay","fileName","_jsxFileName","lineNumber","columnNumber","Title","as","htmlFor","name","id","value","onChange","e","target","disabled","type","onClick","loadingText","_c","$RefreshReg$"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/components/modals/ReportPostModal.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { reportPostAction } from \"../../redux/actions/communityActions\";\nimport { useDispatch } from \"react-redux\";\n\nimport { Dialog } from \"@headlessui/react\";\nimport ButtonLoadingSpinner from \"../loader/ButtonLoadingSpinner\";\n\nconst ReportPostModal = ({\n  isOpen,\n  onClose,\n  postId,\n  communityId,\n  setReportedPost,\n}) => {\n  const [reportReason, setReportReason] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleReportSubmit = async () => {\n    setIsLoading(true);\n    try {\n      await dispatch(\n        reportPostAction({\n          postId,\n          reportReason,\n          communityId,\n        })\n      );\n      setIsLoading(false);\n      setReportedPost(true);\n      onClose();\n    } catch (error) {\n      setIsLoading(false);\n      onClose();\n    }\n  };\n\n  return (\n    <Dialog\n      open={isOpen}\n      onClose={onClose}\n      className=\"fixed inset-0 z-50 overflow-y-auto\"\n    >\n      <div className=\"fixed inset-0 flex items-center justify-center\">\n        <Dialog.Overlay className=\"fixed inset-0 bg-black opacity-30\" />\n\n        <div className=\"inline-block align-middle bg-white rounded-md text-left shadow-xl transform transition-all w-full mx-4 md:max-w-lg\">\n          <Dialog.Title\n            as=\"h3\"\n            className=\"text-lg font-medium leading-6 text-gray-900 p-4\"\n          >\n            Report Post\n          </Dialog.Title>\n\n          <div className=\"p-4\">\n            <label\n              htmlFor=\"report-reason\"\n              className=\"block text-sm font-medium text-gray-700\"\n            >\n              Reason for report\n            </label>\n            <div className=\"mt-1\">\n              <textarea\n                name=\"report-reason\"\n                className=\"shadow-sm block w-full sm:text-sm rounded-md h-24 resize-none p-3 focus:outline-none focus:border\"\n                id=\"report-reason\"\n                value={reportReason}\n                onChange={(e) => setReportReason(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <div className=\"flex justify-end p-4\">\n            <button\n              disabled={isLoading || !reportReason}\n              type=\"button\"\n              className={`inline-flex justify-center px-4 py-2 text-sm font-medium text-white border rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 ${\n                isLoading || !reportReason\n                  ? \"bg-gray-400 cursor-not-allowed\"\n                  : \"bg-primary border-transparent hover:bg-blue-600 focus-visible:ring-blue-500\"\n              }`}\n              onClick={handleReportSubmit}\n            >\n              {isLoading ? (\n                <ButtonLoadingSpinner loadingText={\"Reporting...\"} />\n              ) : (\n                \"Report\"\n              )}\n            </button>\n\n            <button\n              type=\"button\"\n              className=\"inline-flex justify-center px-4 py-2 ml-4 text-sm font-medium text-gray-700 bg-gray-100 border border-transparent rounded-md hover:bg-gray-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500\"\n              onClick={onClose}\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default ReportPostModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}