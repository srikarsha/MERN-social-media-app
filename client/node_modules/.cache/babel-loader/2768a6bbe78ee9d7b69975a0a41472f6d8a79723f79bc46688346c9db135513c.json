{"ast":null,"code":"import{useEffect}from\"react\";import{useSelector}from\"react-redux\";import{useParams,useNavigate}from\"react-router-dom\";import CommonLoading from\"../components/loader/CommonLoading\";import CommunityRightbar from\"../components/community/Rightbar\";import CommunityMainSection from\"../components/community/MainSection\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CommunityHome=function CommunityHome(){var navigate=useNavigate();var _useParams=useParams(),communityName=_useParams.communityName;var _useSelector=useSelector(function(state){return state.community||{};}),joinedCommunities=_useSelector.joinedCommunities;var isAuthorized=joinedCommunities===null||joinedCommunities===void 0?void 0:joinedCommunities.some(function(_ref){var name=_ref.name;return name===communityName;});useEffect(function(){if(!isAuthorized&&(joinedCommunities===null||joinedCommunities===void 0?void 0:joinedCommunities.length)>0){navigate(\"/access-denied\");}},[isAuthorized,joinedCommunities,navigate,communityName]);if(!joinedCommunities){return/*#__PURE__*/_jsx(\"div\",{className:\"col-span-3 flex h-screen items-center justify-center\",children:/*#__PURE__*/_jsx(CommonLoading,{})});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-section bg-white\",children:/*#__PURE__*/_jsx(CommunityMainSection,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 h-[85vh] overflow-y-auto rounded-md border bg-white p-5 md:sticky md:top-20\",children:/*#__PURE__*/_jsx(CommunityRightbar,{})})]});};export default CommunityHome;","map":{"version":3,"names":["useEffect","useSelector","useParams","useNavigate","CommonLoading","CommunityRightbar","CommunityMainSection","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","CommunityHome","navigate","_useParams","communityName","_useSelector","state","community","joinedCommunities","isAuthorized","some","_ref","name","length","className","children"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/pages/CommunityHome.jsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams, useNavigate } from \"react-router-dom\";\n\nimport CommonLoading from \"../components/loader/CommonLoading\";\nimport CommunityRightbar from \"../components/community/Rightbar\";\nimport CommunityMainSection from \"../components/community/MainSection\";\n\nconst CommunityHome = () => {\n  const navigate = useNavigate();\n  const { communityName } = useParams();\n\n  const { joinedCommunities } = useSelector((state) => state.community || {});\n  const isAuthorized = joinedCommunities?.some(\n    ({ name }) => name === communityName\n  );\n\n  useEffect(() => {\n    if (!isAuthorized && joinedCommunities?.length > 0) {\n      navigate(\"/access-denied\");\n    }\n  }, [isAuthorized, joinedCommunities, navigate, communityName]);\n\n  if (!joinedCommunities) {\n    return (\n      <div className=\"col-span-3 flex h-screen items-center justify-center\">\n        <CommonLoading />\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"main-section bg-white\">\n        <CommunityMainSection />\n      </div>\n      <div className=\"col-span-1 h-[85vh] overflow-y-auto rounded-md border bg-white p-5 md:sticky md:top-20\">\n        <CommunityRightbar />\n      </div>\n    </>\n  );\n};\n\nexport default CommunityHome;\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CAEzD,MAAO,CAAAC,aAAa,KAAM,oCAAoC,CAC9D,MAAO,CAAAC,iBAAiB,KAAM,kCAAkC,CAChE,MAAO,CAAAC,oBAAoB,KAAM,qCAAqC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvE,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,GAAM,CAAAC,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,IAAAY,UAAA,CAA0Bb,SAAS,CAAC,CAAC,CAA7Bc,aAAa,CAAAD,UAAA,CAAbC,aAAa,CAErB,IAAAC,YAAA,CAA8BhB,WAAW,CAAC,SAACiB,KAAK,QAAK,CAAAA,KAAK,CAACC,SAAS,EAAI,CAAC,CAAC,GAAC,CAAnEC,iBAAiB,CAAAH,YAAA,CAAjBG,iBAAiB,CACzB,GAAM,CAAAC,YAAY,CAAGD,iBAAiB,SAAjBA,iBAAiB,iBAAjBA,iBAAiB,CAAEE,IAAI,CAC1C,SAAAC,IAAA,KAAG,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,OAAO,CAAAA,IAAI,GAAKR,aAAa,EACtC,CAAC,CAEDhB,SAAS,CAAC,UAAM,CACd,GAAI,CAACqB,YAAY,EAAI,CAAAD,iBAAiB,SAAjBA,iBAAiB,iBAAjBA,iBAAiB,CAAEK,MAAM,EAAG,CAAC,CAAE,CAClDX,QAAQ,CAAC,gBAAgB,CAAC,CAC5B,CACF,CAAC,CAAE,CAACO,YAAY,CAAED,iBAAiB,CAAEN,QAAQ,CAAEE,aAAa,CAAC,CAAC,CAE9D,GAAI,CAACI,iBAAiB,CAAE,CACtB,mBACEZ,IAAA,QAAKkB,SAAS,CAAC,sDAAsD,CAAAC,QAAA,cACnEnB,IAAA,CAACJ,aAAa,GAAE,CAAC,CACd,CAAC,CAEV,CAEA,mBACEQ,KAAA,CAAAF,SAAA,EAAAiB,QAAA,eACEnB,IAAA,QAAKkB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpCnB,IAAA,CAACF,oBAAoB,GAAE,CAAC,CACrB,CAAC,cACNE,IAAA,QAAKkB,SAAS,CAAC,wFAAwF,CAAAC,QAAA,cACrGnB,IAAA,CAACH,iBAAiB,GAAE,CAAC,CAClB,CAAC,EACN,CAAC,CAEP,CAAC,CAED,cAAe,CAAAQ,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}