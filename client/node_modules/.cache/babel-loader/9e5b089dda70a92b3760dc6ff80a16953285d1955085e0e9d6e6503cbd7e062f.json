{"ast":null,"code":"import _slicedToArray from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback}from\"react\";import{useNavigate,useLocation}from\"react-router\";import LoadingSpinner from\"../components/loader/ButtonLoadingSpinner\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BASE_URL=process.env.REACT_APP_API_URL;var BlockDevice=function BlockDevice(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var navigate=useNavigate();var location=useLocation();var searchParams=new URLSearchParams(location.search);var idFromUrl=searchParams.get(\"id\");var emailFromUrl=searchParams.get(\"email\");var handleBlock=useCallback(function(){setLoading(true);var blockLink=\"\".concat(BASE_URL,\"/auth/block-login?id=\").concat(idFromUrl,\"&email=\").concat(emailFromUrl);axios.get(blockLink).then(function(res){if(res.status===200){setLoading(false);navigate(\"/signin\");}}).catch(function(err){setLoading(false);});},[idFromUrl,emailFromUrl,setLoading,navigate]);return/*#__PURE__*/_jsx(\"div\",{className:\"relative flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-10 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-block sm:align-middle sm:h-screen\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative inline-block px-4 pt-5 pb-4 overflow-hidden text-left align-bottom transition-all transform bg-white rounded-lg shadow-xl rtl:text-right sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"w-8 h-8 text-gray-700 \",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:2,children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium leading-6 text-gray-800 capitalize\",id:\"modal-title\",children:\"Block Device\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-gray-500\",children:\"Are you sure you want to block this device?\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 sm:flex sm:items-center sm:justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sm:flex sm:items-center sm:justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"w-full px-4 py-2 mt-2 text-sm font-medium tracking-wide text-gray-700 capitalize transition-colors duration-300 transform border border-gray-200 rounded-md sm:mt-0 sm:w-auto sm:mx-2  hover:bg-gray-100 focus:outline-none focus:ring focus:ring-gray-300 focus:ring-opacity-40\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{disabled:loading,onClick:handleBlock,className:\"w-full px-4 py-2 mt-2 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-red-600 rounded-md sm:w-auto sm:mt-0 hover:bg-red-700 focus:outline-none focus:ring focus:ring-red-300 focus:ring-opacity-40\",children:loading?/*#__PURE__*/_jsx(LoadingSpinner,{loadingText:\"Blocking...\"}):\"Block\"})]})})]})]})})});};export default BlockDevice;","map":{"version":3,"names":["useState","useCallback","useNavigate","useLocation","LoadingSpinner","axios","jsx","_jsx","jsxs","_jsxs","BASE_URL","process","env","REACT_APP_API_URL","BlockDevice","_useState","_useState2","_slicedToArray","loading","setLoading","navigate","location","searchParams","URLSearchParams","search","idFromUrl","get","emailFromUrl","handleBlock","blockLink","concat","then","res","status","catch","err","className","children","xmlns","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","id","disabled","onClick","loadingText"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/pages/BlockDevice.jsx"],"sourcesContent":["import { useState, useCallback } from \"react\";\nimport { useNavigate, useLocation } from \"react-router\";\nimport LoadingSpinner from \"../components/loader/ButtonLoadingSpinner\";\nimport axios from \"axios\";\n\nconst BASE_URL = process.env.REACT_APP_API_URL;\n\nconst BlockDevice = () => {\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const searchParams = new URLSearchParams(location.search);\n  const idFromUrl = searchParams.get(\"id\");\n  const emailFromUrl = searchParams.get(\"email\");\n\n  const handleBlock = useCallback(() => {\n    setLoading(true);\n    const blockLink = `${BASE_URL}/auth/block-login?id=${idFromUrl}&email=${emailFromUrl}`;\n    axios\n      .get(blockLink)\n      .then((res) => {\n        if (res.status === 200) {\n          setLoading(false);\n          navigate(\"/signin\");\n        }\n      })\n      .catch((err) => {\n        setLoading(false);\n      });\n  }, [idFromUrl, emailFromUrl, setLoading, navigate]);\n\n  return (\n    <div className=\"relative flex justify-center\">\n      <div className=\"fixed inset-0 z-10 overflow-y-auto\">\n        <div className=\"flex items-end justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\">\n          <span\n            className=\"hidden sm:inline-block sm:align-middle sm:h-screen\"\n            aria-hidden=\"true\"\n          ></span>\n          <div className=\"relative inline-block px-4 pt-5 pb-4 overflow-hidden text-left align-bottom transition-all transform bg-white rounded-lg shadow-xl rtl:text-right sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6\">\n            <div>\n              <div className=\"flex items-center justify-center\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"w-8 h-8 text-gray-700 \"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                  strokeWidth={2}\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    d=\"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\"\n                  />\n                </svg>\n              </div>\n              <div className=\"mt-2 text-center\">\n                <h3\n                  className=\"text-lg font-medium leading-6 text-gray-800 capitalize\"\n                  id=\"modal-title\"\n                >\n                  Block Device\n                </h3>\n                <p className=\"mt-2 text-sm text-gray-500\">\n                  Are you sure you want to block this device?\n                </p>\n              </div>\n            </div>\n            <div className=\"mt-5 sm:flex sm:items-center sm:justify-center\">\n              <div className=\"sm:flex sm:items-center sm:justify-center\">\n                <button className=\"w-full px-4 py-2 mt-2 text-sm font-medium tracking-wide text-gray-700 capitalize transition-colors duration-300 transform border border-gray-200 rounded-md sm:mt-0 sm:w-auto sm:mx-2  hover:bg-gray-100 focus:outline-none focus:ring focus:ring-gray-300 focus:ring-opacity-40\">\n                  Cancel\n                </button>\n                <button\n                  disabled={loading}\n                  onClick={handleBlock}\n                  className=\"w-full px-4 py-2 mt-2 text-sm font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-red-600 rounded-md sm:w-auto sm:mt-0 hover:bg-red-700 focus:outline-none focus:ring focus:ring-red-300 focus:ring-opacity-40\"\n                >\n                  {loading ? (\n                    <LoadingSpinner loadingText={\"Blocking...\"} />\n                  ) : (\n                    \"Block\"\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BlockDevice;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}