{"ast":null,"code":"import _defineProperty from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,memo}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useLocation}from\"react-router\";import{Link}from\"react-router-dom\";import{getComMembersAction}from\"../../redux/actions/communityActions\";import UnbanUserModal from\"../modals/UnbanUserModal\";import{IoTimerOutline}from\"react-icons/io5\";import{CiLocationOn}from\"react-icons/ci\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BannerMembersList=function BannerMembersList(){var dispatch=useDispatch();var location=useLocation();var communityName=location.pathname.split(\"/\")[2]||\"\";var _useState=useState({}),_useState2=_slicedToArray(_useState,2),unbanUserModalVisibility=_useState2[0],setBanUserModalVisibility=_useState2[1];var toggleUnbanUserModal=function toggleUnbanUserModal(userId,visible){setBanUserModalVisibility(function(prevVisibility){return _objectSpread(_objectSpread({},prevVisibility),{},_defineProperty({},userId,visible));});};useEffect(function(){dispatch(getComMembersAction(communityName));},[dispatch,communityName]);var bannedUsers=useSelector(function(state){return state.moderation.bannedUsers;})||[];return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[bannedUsers&&bannedUsers.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 font-semibold\",children:\"No banned users to show\"}),bannedUsers&&bannedUsers.map(function(bannedMember){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col border border-gray-200  px-6 py-3 my-3 rounded-lg \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"img\",{src:bannedMember.avatar,alt:\"profile\",className:\"w-16 h-16 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(Link,{to:\"/user/\".concat(bannedMember._id),className:\"ml-2 font-bold\",children:bannedMember.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"ml-2 text-xs flex gap-1 items-center\",children:[/*#__PURE__*/_jsx(CiLocationOn,{}),bannedMember.location]}),/*#__PURE__*/_jsxs(\"p\",{className:\"ml-2 text-xs flex gap-1 items-center\",children:[/*#__PURE__*/_jsx(IoTimerOutline,{}),new Date(bannedMember.createdAt).toDateString()]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){toggleUnbanUserModal(bannedMember._id,true);},className:\"ml-2 bg-primary hover:bg-sky-700 text-white font-bold rounded-lg px-4 py-2 h-9 flex justify-center items-center text-sm\",children:\"Unban user\"})]}),/*#__PURE__*/_jsx(UnbanUserModal,{show:unbanUserModalVisibility[bannedMember._id]||false,onClose:function onClose(){toggleUnbanUserModal(bannedMember._id,false);},userId:bannedMember._id,communityName:communityName},bannedMember._id)]},bannedMember._id);})]})});};export default/*#__PURE__*/memo(BannerMembersList);","map":{"version":3,"names":["useEffect","useState","memo","useDispatch","useSelector","useLocation","Link","getComMembersAction","UnbanUserModal","IoTimerOutline","CiLocationOn","jsx","_jsx","jsxs","_jsxs","BannerMembersList","dispatch","location","communityName","pathname","split","_useState","_useState2","_slicedToArray","unbanUserModalVisibility","setBanUserModalVisibility","toggleUnbanUserModal","userId","visible","prevVisibility","_objectSpread","_defineProperty","bannedUsers","state","moderation","className","children","length","map","bannedMember","src","avatar","alt","to","concat","_id","name","Date","createdAt","toDateString","onClick","show","onClose"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/components/moderator/BannerMembersList.jsx"],"sourcesContent":["import { useEffect, useState, memo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { getComMembersAction } from \"../../redux/actions/communityActions\";\nimport UnbanUserModal from \"../modals/UnbanUserModal\";\nimport { IoTimerOutline } from \"react-icons/io5\";\nimport { CiLocationOn } from \"react-icons/ci\";\n\nconst BannerMembersList = () => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const communityName = location.pathname.split(\"/\")[2] || \"\";\n\n  const [unbanUserModalVisibility, setBanUserModalVisibility] = useState({});\n  const toggleUnbanUserModal = (userId, visible) => {\n    setBanUserModalVisibility((prevVisibility) => ({\n      ...prevVisibility,\n      [userId]: visible,\n    }));\n  };\n\n  useEffect(() => {\n    dispatch(getComMembersAction(communityName));\n  }, [dispatch, communityName]);\n\n  const bannedUsers =\n    useSelector((state) => state.moderation.bannedUsers) || [];\n\n  return (\n    <div className=\"flex flex-col\">\n      <div className=\"flex flex-col\">\n        {bannedUsers && bannedUsers.length === 0 && (\n          <p className=\"text-center text-gray-500 font-semibold\">\n            No banned users to show\n          </p>\n        )}\n        {bannedUsers &&\n          bannedUsers.map((bannedMember) => (\n            <div\n              key={bannedMember._id}\n              className=\"flex flex-col border border-gray-200  px-6 py-3 my-3 rounded-lg \"\n            >\n              <div className=\"flex justify-between items-center\">\n                <div className=\"flex\">\n                  <img\n                    src={bannedMember.avatar}\n                    alt=\"profile\"\n                    className=\"w-16 h-16 rounded-full\"\n                  />\n\n                  <div className=\"flex flex-col\">\n                    <Link\n                      to={`/user/${bannedMember._id}`}\n                      className=\"ml-2 font-bold\"\n                    >\n                      {bannedMember.name}\n                    </Link>\n                    <p className=\"ml-2 text-xs flex gap-1 items-center\">\n                      <CiLocationOn />\n                      {bannedMember.location}\n                    </p>\n                    <p className=\"ml-2 text-xs flex gap-1 items-center\">\n                      <IoTimerOutline />\n                      {new Date(bannedMember.createdAt).toDateString()}\n                    </p>\n                  </div>\n                </div>\n                <button\n                  onClick={() => {\n                    toggleUnbanUserModal(bannedMember._id, true);\n                  }}\n                  className=\"ml-2 bg-primary hover:bg-sky-700 text-white font-bold rounded-lg px-4 py-2 h-9 flex justify-center items-center text-sm\"\n                >\n                  Unban user\n                </button>\n              </div>\n\n              <UnbanUserModal\n                key={bannedMember._id}\n                show={unbanUserModalVisibility[bannedMember._id] || false}\n                onClose={() => {\n                  toggleUnbanUserModal(bannedMember._id, false);\n                }}\n                userId={bannedMember._id}\n                communityName={communityName}\n              />\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(BannerMembersList);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}