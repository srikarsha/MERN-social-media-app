{"ast":null,"code":"import _slicedToArray from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CommentSidebar=function CommentSidebar(_ref){var comments=_ref.comments;var currentPage=1;var _useState=useState(10),_useState2=_slicedToArray(_useState,2),commentsPerPage=_useState2[0],setCommentsPerPage=_useState2[1];var indexOfLastComment=currentPage*commentsPerPage;var indexOfFirstComment=indexOfLastComment-commentsPerPage;var currentComments=comments.slice(indexOfFirstComment,indexOfLastComment);var handleLoadMore=function handleLoadMore(){setCommentsPerPage(commentsPerPage+10);};return/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-1 bg-white sticky top-20 h-[85vh] p-5 rounded-md border overflow-y-auto\",children:[currentComments.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-semibold mb-4 text-center py-2 border-b-2\",children:\"Recent Comments\"}),currentComments.map(function(comment){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col bg-white p-2 border-b w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:comment.user.avatar,alt:\"User Avatar\",className:\"rounded-full overflow-hidden w-[30px] h-[30px] object-cover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-md font-semibold hover:underline\",children:/*#__PURE__*/_jsx(Link,{to:\"/user/\".concat(comment.user._id),children:comment.user.name})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-xs ml-1\",children:comment.createdAt})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-2 whitespace-normal break-words\",children:comment.content})]},comment._id);}),currentComments.length<comments.length&&/*#__PURE__*/_jsx(\"button\",{className:\"text-primary text-sm font-semibold mt-3 w-full\",onClick:handleLoadMore,children:\"Load More\"})]}),currentComments.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center h-full\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold mb-4\",children:\"No Comments Yet\"})})]});};export default CommentSidebar;","map":{"version":3,"names":["useState","Link","jsx","_jsx","jsxs","_jsxs","CommentSidebar","_ref","comments","currentPage","_useState","_useState2","_slicedToArray","commentsPerPage","setCommentsPerPage","indexOfLastComment","indexOfFirstComment","currentComments","slice","handleLoadMore","className","children","length","map","comment","src","user","avatar","alt","to","concat","_id","name","createdAt","content","onClick"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/components/post/CommentSidebar.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst CommentSidebar = ({ comments }) => {\n  const currentPage = 1;\n  const [commentsPerPage, setCommentsPerPage] = useState(10);\n\n  const indexOfLastComment = currentPage * commentsPerPage;\n  const indexOfFirstComment = indexOfLastComment - commentsPerPage;\n  const currentComments = comments.slice(\n    indexOfFirstComment,\n    indexOfLastComment\n  );\n\n  const handleLoadMore = () => {\n    setCommentsPerPage(commentsPerPage + 10);\n  };\n\n  return (\n    <div className=\"col-span-1 bg-white sticky top-20 h-[85vh] p-5 rounded-md border overflow-y-auto\">\n      {currentComments.length > 0 && (\n        <div>\n          <h2 className=\"font-semibold mb-4 text-center py-2 border-b-2\">\n            Recent Comments\n          </h2>\n          {currentComments.map((comment) => (\n            <div\n              key={comment._id}\n              className=\"flex flex-col bg-white p-2 border-b w-full\"\n            >\n              <div className=\"flex gap-1\">\n                <img\n                  src={comment.user.avatar}\n                  alt=\"User Avatar\"\n                  className=\"rounded-full overflow-hidden w-[30px] h-[30px] object-cover\"\n                />\n\n                <div className=\"flex flex-col\">\n                  <span className=\"text-md font-semibold hover:underline\">\n                    <Link to={`/user/${comment.user._id}`}>\n                      {comment.user.name}\n                    </Link>\n                  </span>\n                  <p className=\"text-gray-500 text-xs ml-1\">\n                    {comment.createdAt}\n                  </p>\n                </div>\n              </div>\n              <p className=\"text-sm mt-2 whitespace-normal break-words\">\n                {comment.content}\n              </p>\n            </div>\n          ))}\n\n          {currentComments.length < comments.length && (\n            <button\n              className=\"text-primary text-sm font-semibold mt-3 w-full\"\n              onClick={handleLoadMore}\n            >\n              Load More\n            </button>\n          )}\n        </div>\n      )}\n\n      {currentComments.length === 0 && (\n        <div className=\"flex flex-col items-center justify-center h-full\">\n          <p className=\"text-lg font-semibold mb-4\">No Comments Yet</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CommentSidebar;\n"],"mappings":"0IAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CAChC,GAAM,CAAAC,WAAW,CAAG,CAAC,CACrB,IAAAC,SAAA,CAA8CV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnDG,eAAe,CAAAF,UAAA,IAAEG,kBAAkB,CAAAH,UAAA,IAE1C,GAAM,CAAAI,kBAAkB,CAAGN,WAAW,CAAGI,eAAe,CACxD,GAAM,CAAAG,mBAAmB,CAAGD,kBAAkB,CAAGF,eAAe,CAChE,GAAM,CAAAI,eAAe,CAAGT,QAAQ,CAACU,KAAK,CACpCF,mBAAmB,CACnBD,kBACF,CAAC,CAED,GAAM,CAAAI,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3BL,kBAAkB,CAACD,eAAe,CAAG,EAAE,CAAC,CAC1C,CAAC,CAED,mBACER,KAAA,QAAKe,SAAS,CAAC,kFAAkF,CAAAC,QAAA,EAC9FJ,eAAe,CAACK,MAAM,CAAG,CAAC,eACzBjB,KAAA,QAAAgB,QAAA,eACElB,IAAA,OAAIiB,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,iBAE/D,CAAI,CAAC,CACJJ,eAAe,CAACM,GAAG,CAAC,SAACC,OAAO,qBAC3BnB,KAAA,QAEEe,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eAEtDhB,KAAA,QAAKe,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBlB,IAAA,QACEsB,GAAG,CAAED,OAAO,CAACE,IAAI,CAACC,MAAO,CACzBC,GAAG,CAAC,aAAa,CACjBR,SAAS,CAAC,6DAA6D,CACxE,CAAC,cAEFf,KAAA,QAAKe,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BlB,IAAA,SAAMiB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACrDlB,IAAA,CAACF,IAAI,EAAC4B,EAAE,UAAAC,MAAA,CAAWN,OAAO,CAACE,IAAI,CAACK,GAAG,CAAG,CAAAV,QAAA,CACnCG,OAAO,CAACE,IAAI,CAACM,IAAI,CACd,CAAC,CACH,CAAC,cACP7B,IAAA,MAAGiB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACtCG,OAAO,CAACS,SAAS,CACjB,CAAC,EACD,CAAC,EACH,CAAC,cACN9B,IAAA,MAAGiB,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CACtDG,OAAO,CAACU,OAAO,CACf,CAAC,GAvBCV,OAAO,CAACO,GAwBV,CAAC,EACP,CAAC,CAEDd,eAAe,CAACK,MAAM,CAAGd,QAAQ,CAACc,MAAM,eACvCnB,IAAA,WACEiB,SAAS,CAAC,gDAAgD,CAC1De,OAAO,CAAEhB,cAAe,CAAAE,QAAA,CACzB,WAED,CAAQ,CACT,EACE,CACN,CAEAJ,eAAe,CAACK,MAAM,GAAK,CAAC,eAC3BnB,IAAA,QAAKiB,SAAS,CAAC,kDAAkD,CAAAC,QAAA,cAC/DlB,IAAA,MAAGiB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAAC,CAC1D,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAf,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}