{"ast":null,"code":"import _regeneratorRuntime from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import TrustedDevicesLocations from\"../components/profile/TrustedDevicesLocations\";import PrimaryDevicesLocations from\"../components/profile/PrimaryDevicesLocations\";import BlockedDevicesLocations from\"../components/profile/BlockedDevicesLocations\";import CommonLoading from\"../components/loader/CommonLoading\";import{getTrustedContextAuthDataAction,getUserPreferencesAction,getBlockedAuthContextDataAction,getContextAuthDataAction}from\"../redux/actions/authActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DevicesLocations=function DevicesLocations(){var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),dateFetched=_useState2[0],setDateFetched=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(getUserPreferencesAction());case 2:_context.next=4;return dispatch(getContextAuthDataAction());case 4:_context.next=6;return dispatch(getTrustedContextAuthDataAction());case 6:_context.next=8;return dispatch(getBlockedAuthContextDataAction());case 8:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData().then(function(){return setDateFetched(true);});},[dispatch,dateFetched]);var userPreferences=useSelector(function(state){var _state$auth;return(_state$auth=state.auth)===null||_state$auth===void 0?void 0:_state$auth.userPreferences;});var contextAuthData=useSelector(function(state){var _state$auth2;return(_state$auth2=state.auth)===null||_state$auth2===void 0?void 0:_state$auth2.contextAuthData;});var trustedAuthContextData=useSelector(function(state){var _state$auth3;return(_state$auth3=state.auth)===null||_state$auth3===void 0?void 0:_state$auth3.trustedAuthContextData;});var blockedContextAuthData=useSelector(function(state){var _state$auth4;return(_state$auth4=state.auth)===null||_state$auth4===void 0?void 0:_state$auth4.blockedAuthContextData;});if(!dateFetched){return/*#__PURE__*/_jsx(\"div\",{className:\"col-span-2 flex items-center justify-center h-screen\",children:/*#__PURE__*/_jsx(CommonLoading,{})});}if(!userPreferences||!contextAuthData){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border p-5 text-gray-700 text-center main-section\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold mb-4\",children:\"Context-based authentication is currently disabled for your account.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"By enabling context-based authentication, you will gain control over your devices, their locations, and manage trusted and blocked devices.\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"main-section border bg-white\",children:[/*#__PURE__*/_jsx(PrimaryDevicesLocations,{contextAuthData:contextAuthData}),/*#__PURE__*/_jsx(TrustedDevicesLocations,{trustedAuthContextData:trustedAuthContextData}),/*#__PURE__*/_jsx(BlockedDevicesLocations,{blockedContextAuthData:blockedContextAuthData})]});};export default DevicesLocations;","map":{"version":3,"names":["useEffect","useState","useSelector","useDispatch","TrustedDevicesLocations","PrimaryDevicesLocations","BlockedDevicesLocations","CommonLoading","getTrustedContextAuthDataAction","getUserPreferencesAction","getBlockedAuthContextDataAction","getContextAuthDataAction","jsx","_jsx","jsxs","_jsxs","DevicesLocations","dispatch","_useState","_useState2","_slicedToArray","dateFetched","setDateFetched","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","apply","arguments","then","userPreferences","state","_state$auth","auth","contextAuthData","_state$auth2","trustedAuthContextData","_state$auth3","blockedContextAuthData","_state$auth4","blockedAuthContextData","className","children"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/pages/DevicesLocations.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport TrustedDevicesLocations from \"../components/profile/TrustedDevicesLocations\";\nimport PrimaryDevicesLocations from \"../components/profile/PrimaryDevicesLocations\";\nimport BlockedDevicesLocations from \"../components/profile/BlockedDevicesLocations\";\nimport CommonLoading from \"../components/loader/CommonLoading\";\n\nimport {\n  getTrustedContextAuthDataAction,\n  getUserPreferencesAction,\n  getBlockedAuthContextDataAction,\n  getContextAuthDataAction,\n} from \"../redux/actions/authActions\";\n\nconst DevicesLocations = () => {\n  const dispatch = useDispatch();\n  const [dateFetched, setDateFetched] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      await dispatch(getUserPreferencesAction());\n      await dispatch(getContextAuthDataAction());\n      await dispatch(getTrustedContextAuthDataAction());\n      await dispatch(getBlockedAuthContextDataAction());\n    };\n    fetchData().then(() => setDateFetched(true));\n  }, [dispatch, dateFetched]);\n\n  const userPreferences = useSelector((state) => state.auth?.userPreferences);\n  const contextAuthData = useSelector((state) => state.auth?.contextAuthData);\n  const trustedAuthContextData = useSelector(\n    (state) => state.auth?.trustedAuthContextData\n  );\n  const blockedContextAuthData = useSelector(\n    (state) => state.auth?.blockedAuthContextData\n  );\n\n  if (!dateFetched) {\n    return (\n      <div className=\"col-span-2 flex items-center justify-center h-screen\">\n        <CommonLoading />\n      </div>\n    );\n  }\n\n  if (!userPreferences || !contextAuthData) {\n    return (\n      <div className=\"bg-white border p-5 text-gray-700 text-center main-section\">\n        <p className=\"text-lg font-semibold mb-4\">\n          Context-based authentication is currently disabled for your account.\n        </p>\n        <p className=\"text-sm\">\n          By enabling context-based authentication, you will gain control over\n          your devices, their locations, and manage trusted and blocked devices.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"main-section border bg-white\">\n      <PrimaryDevicesLocations contextAuthData={contextAuthData} />\n\n      <TrustedDevicesLocations\n        trustedAuthContextData={trustedAuthContextData}\n      />\n      <BlockedDevicesLocations\n        blockedContextAuthData={blockedContextAuthData}\n      />\n    </div>\n  );\n};\n\nexport default DevicesLocations;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}