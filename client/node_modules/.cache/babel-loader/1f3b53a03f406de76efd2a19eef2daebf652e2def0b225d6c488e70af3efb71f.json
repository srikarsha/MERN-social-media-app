{"ast":null,"code":"import _regeneratorRuntime from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import LoadingSpinner from\"../loader/ButtonLoadingSpinner\";import{leaveFetchData}from\"../../redux/actions/communityActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LeaveModal=function LeaveModal(_ref){var show=_ref.show,communityName=_ref.communityName,toggle=_ref.toggle;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),leaving=_useState2[0],setLeaving=_useState2[1];var dispatch=useDispatch();var navigate=useNavigate();var leaveCommunityHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLeaving(true);_context.next=3;return dispatch(leaveFetchData(communityName));case 3:setLeaving(false);toggle();navigate(\"/\");case 6:case\"end\":return _context.stop();}},_callee);}));return function leaveCommunityHandler(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 overflow-y-auto \".concat(show?\"\":\"hidden\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-h-screen items-center justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity \".concat(show?\"\":\"hidden\"),\"aria-hidden\":\"true\",onClick:toggle,children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gray-500 opacity-75\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-block sm:h-screen sm:align-middle\",\"aria-hidden\":\"true\",children:\"\\u200B\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-block transform overflow-hidden rounded-md bg-white px-4 pb-4 pt-5 text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:align-middle z-50\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"modal-headline\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center sm:mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium leading-6 text-gray-900\",id:\"modal-headline\",children:\"Leave Community\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Are you sure you want to leave this community?\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 flex justify-center space-x-2 sm:mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:leaving,onClick:toggle,className:\"w-1/2 rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:text-sm\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{disabled:leaving,onClick:leaveCommunityHandler,className:\"w-1/2 rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:text-sm\",children:leaving?/*#__PURE__*/_jsx(LoadingSpinner,{loadingText:\"Leaving...\"}):/*#__PURE__*/_jsx(\"span\",{children:\"Leave\"})})]})]})]})});};export default LeaveModal;","map":{"version":3,"names":["useState","useNavigate","useDispatch","LoadingSpinner","leaveFetchData","jsx","_jsx","jsxs","_jsxs","LeaveModal","_ref","show","communityName","toggle","_useState","_useState2","_slicedToArray","leaving","setLeaving","dispatch","navigate","leaveCommunityHandler","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","apply","arguments","className","concat","children","onClick","role","id","disabled","loadingText"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/components/modals/LeaveModal.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport LoadingSpinner from \"../loader/ButtonLoadingSpinner\";\nimport { leaveFetchData } from \"../../redux/actions/communityActions\";\n\nconst LeaveModal = ({ show, communityName, toggle }) => {\n  const [leaving, setLeaving] = useState(false);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const leaveCommunityHandler = async () => {\n    setLeaving(true);\n    await dispatch(leaveFetchData(communityName));\n    setLeaving(false);\n    toggle();\n    navigate(\"/\");\n  };\n\n  return (\n    <div className={`fixed inset-0 overflow-y-auto ${show ? \"\" : \"hidden\"}`}>\n      <div className=\"flex min-h-screen items-center justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0\">\n        <div\n          className={`fixed inset-0 transition-opacity ${show ? \"\" : \"hidden\"}`}\n          aria-hidden=\"true\"\n          onClick={toggle}\n        >\n          <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n        </div>\n\n        <span\n          className=\"hidden sm:inline-block sm:h-screen sm:align-middle\"\n          aria-hidden=\"true\"\n        >\n          &#8203;\n        </span>\n\n        <div\n          className=\"inline-block transform overflow-hidden rounded-md bg-white px-4 pb-4 pt-5 text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:align-middle z-50\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"modal-headline\"\n        >\n          <div>\n            <div className=\"mt-3 text-center sm:mt-5\">\n              <h3\n                className=\"text-lg font-medium leading-6 text-gray-900\"\n                id=\"modal-headline\"\n              >\n                Leave Community\n              </h3>\n              <div className=\"mt-2\">\n                <p className=\"text-sm text-gray-500\">\n                  Are you sure you want to leave this community?\n                </p>\n              </div>\n            </div>\n          </div>\n          <div className=\"mt-5 flex justify-center space-x-2 sm:mt-6\">\n            <button\n              disabled={leaving}\n              onClick={toggle}\n              className=\"w-1/2 rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:text-sm\"\n            >\n              Cancel\n            </button>\n            <button\n              disabled={leaving}\n              onClick={leaveCommunityHandler}\n              className=\"w-1/2 rounded-md border border-transparent bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:text-sm\"\n            >\n              {leaving ? (\n                <LoadingSpinner loadingText={\"Leaving...\"} />\n              ) : (\n                <span>Leave</span>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LeaveModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}