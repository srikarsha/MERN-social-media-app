{"ast":null,"code":"import{useNavigate,useLocation}from\"react-router\";import{useMemo}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var PostOnProfile=function PostOnProfile(_ref){var post=_ref.post;var navigate=useNavigate();var location=useLocation();var content=post.content,fileUrl=post.fileUrl,community=post.community,createdAt=post.createdAt,comments=post.comments,likes=post.likes,isMember=post.isMember;var isImageFile=useMemo(function(){var validExtensions=[\".jpg\",\".png\",\".jpeg\",\".gif\",\".webp\",\".svg\"];var fileExtension=fileUrl===null||fileUrl===void 0?void 0:fileUrl.slice(fileUrl.lastIndexOf(\".\"));return validExtensions.includes(fileExtension);},[fileUrl]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-md p-3 border my-2 cursor-pointer transition-all duration-300 \".concat(isMember?\"hover:shadow-md\":\"opacity-50 pointer-events-none\"),onClick:function onClick(){if(isMember){navigate(\"/my/post/\".concat(post._id),{state:{from:location.pathname}});}},children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Posted in \",community.name,\" on \",createdAt]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[content&&/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:content}),fileUrl&&isImageFile?/*#__PURE__*/_jsx(\"div\",{className:\"w-full aspect-w-1 aspect-h-1\",children:/*#__PURE__*/_jsx(\"img\",{className:\"w-full h-full object-cover rounded-md cursor-pointer\",src:fileUrl,alt:content,loading:\"lazy\"})}):fileUrl&&/*#__PURE__*/_jsx(\"div\",{className:\"w-full aspect-w-16 aspect-h-9\",children:/*#__PURE__*/_jsx(\"video\",{className:\"w-full h-full object-cover rounded-md cursor-pointer\",src:fileUrl,controls:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center mt-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[comments.length,\" \",comments.length===1?\"Comment\":\"Comments\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[likes.length,\" \",likes.length===1?\"Like\":\"Likes\"]})]})})]})]});};export default PostOnProfile;","map":{"version":3,"names":["useNavigate","useLocation","useMemo","jsxs","_jsxs","jsx","_jsx","PostOnProfile","_ref","post","navigate","location","content","fileUrl","community","createdAt","comments","likes","isMember","isImageFile","validExtensions","fileExtension","slice","lastIndexOf","includes","className","concat","onClick","_id","state","from","pathname","children","name","src","alt","loading","controls","length"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/components/post/PostOnProfile.jsx"],"sourcesContent":["import { useNavigate, useLocation } from \"react-router\";\nimport { useMemo } from \"react\";\n\nconst PostOnProfile = ({ post }) => {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const { content, fileUrl, community, createdAt, comments, likes, isMember } =\n    post;\n\n  const isImageFile = useMemo(() => {\n    const validExtensions = [\".jpg\", \".png\", \".jpeg\", \".gif\", \".webp\", \".svg\"];\n    const fileExtension = fileUrl?.slice(fileUrl.lastIndexOf(\".\"));\n    return validExtensions.includes(fileExtension);\n  }, [fileUrl]);\n\n  return (\n    <div\n      className={`bg-white rounded-md p-3 border my-2 cursor-pointer transition-all duration-300 ${\n        isMember ? \"hover:shadow-md\" : \"opacity-50 pointer-events-none\"\n      }`}\n      onClick={() => {\n        if (isMember) {\n          navigate(`/my/post/${post._id}`, {\n            state: { from: location.pathname },\n          });\n        }\n      }}\n    >\n      <div className=\"flex items-center\">\n        <p className=\"text-sm text-gray-500\">\n          Posted in {community.name} on {createdAt}\n        </p>\n      </div>\n      <div className=\"my-3\">\n        {content && <p className=\"mb-4\">{content}</p>}\n        {fileUrl && isImageFile ? (\n          <div className=\"w-full aspect-w-1 aspect-h-1\">\n            <img\n              className=\"w-full h-full object-cover rounded-md cursor-pointer\"\n              src={fileUrl}\n              alt={content}\n              loading=\"lazy\"\n            />\n          </div>\n        ) : (\n          fileUrl && (\n            <div className=\"w-full aspect-w-16 aspect-h-9\">\n              <video\n                className=\"w-full h-full object-cover rounded-md cursor-pointer\"\n                src={fileUrl}\n                controls\n              />\n            </div>\n          )\n        )}\n        <div className=\"flex justify-between items-center mt-2\">\n          <div className=\"flex items-center space-x-4\">\n            <span className=\"text-sm text-gray-500\">\n              {comments.length} {comments.length === 1 ? \"Comment\" : \"Comments\"}\n            </span>\n            <span className=\"text-sm text-gray-500\">\n              {likes.length} {likes.length === 1 ? \"Like\" : \"Likes\"}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PostOnProfile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}