{"ast":null,"code":"import{useMemo,useEffect,memo}from\"react\";import{Link}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{getJoinedCommunitiesAction}from\"../../redux/actions/communityActions\";import{HiOutlineHome,HiOutlineUserCircle,HiOutlineRectangleStack,HiOutlineTag}from\"react-icons/hi2\";import{HiOutlineUserGroup}from\"react-icons/hi2\";import{GiTeamIdea}from\"react-icons/gi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Leftbar=function Leftbar(_ref){var showLeftbar=_ref.showLeftbar;var dispatch=useDispatch();var user=useSelector(function(state){var _state$auth;return(_state$auth=state.auth)===null||_state$auth===void 0?void 0:_state$auth.userData;});var joinedCommunities=useSelector(function(state){var _state$community;return(_state$community=state.community)===null||_state$community===void 0?void 0:_state$community.joinedCommunities;});useEffect(function(){dispatch(getJoinedCommunitiesAction());},[dispatch]);var visibleCommunities=useMemo(function(){return joinedCommunities===null||joinedCommunities===void 0?void 0:joinedCommunities.slice(0,5);},[joinedCommunities]);var communityLinks=useMemo(function(){return visibleCommunities===null||visibleCommunities===void 0?void 0:visibleCommunities.map(function(community){return{href:\"/community/\".concat(community.name),label:community.name};});},[visibleCommunities]);return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(showLeftbar?\"\":\"hidden\",\" leftbar\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col justify-start items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-start gap-4 w-full p-5\",children:[/*#__PURE__*/_jsxs(Link,{className:\"flex items-center gap-2 text-lg font-medium hover:text-primary\",to:\"/home\",children:[/*#__PURE__*/_jsx(HiOutlineHome,{className:\"text-xl\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Home\"})]}),/*#__PURE__*/_jsxs(Link,{className:\"flex items-center gap-2 text-lg font-medium hover:text-primary\",to:\"/profile\",children:[/*#__PURE__*/_jsx(HiOutlineUserCircle,{className:\"text-xl\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Profile\"})]}),/*#__PURE__*/_jsxs(Link,{className:\"flex items-center gap-2 text-lg font-medium hover:text-primary\",to:\"/saved\",children:[/*#__PURE__*/_jsx(HiOutlineTag,{className:\"text-xl\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Saved\"})]}),user&&user.role===\"general\"&&/*#__PURE__*/_jsxs(Link,{className:\"flex items-center gap-2 text-lg font-medium hover:text-primary\",to:\"/following\",children:[/*#__PURE__*/_jsx(HiOutlineRectangleStack,{className:\"text-xl\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Following\"})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"w-full my-4 border-gray-300\"}),communityLinks&&communityLinks.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-1 font-medium items-center\",children:[/*#__PURE__*/_jsx(HiOutlineUserGroup,{className:\"text-xl\"}),\"Communities\"]}),/*#__PURE__*/_jsxs(Link,{className:\"flex relative items-center text-sm font-medium text-primary mr-4\",to:\"/my-communities\",children:[\"See all\",/*#__PURE__*/_jsxs(\"p\",{className:\"absolute -top-2 -right-4 text-white text-xs bg-primary w-4 h-4 rounded-full flex justify-center items-center\",children:[\" \",joinedCommunities.length]})]})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"w-full mt-3\",children:communityLinks.map(function(communityLink){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:\"flex items-center hover:text-primary text-gray-600 font-medium gap-2 py-1\",to:communityLink.href,children:communityLink.label})},communityLink.href);})})]}):/*#__PURE__*/_jsx(\"div\",{children:\"No communities found.\"}),user&&user.role===\"general\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"md:hidden\",children:[/*#__PURE__*/_jsx(\"hr\",{className:\"w-full my-4 border-gray-300\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-1 items-center\",children:[/*#__PURE__*/_jsx(GiTeamIdea,{}),/*#__PURE__*/_jsx(Link,{to:\"/communities\",className:\"text-primary font-medium\",children:\"See all communities\"})]})]})]})})});};export default/*#__PURE__*/memo(Leftbar);","map":{"version":3,"names":["useMemo","useEffect","memo","Link","useSelector","useDispatch","getJoinedCommunitiesAction","HiOutlineHome","HiOutlineUserCircle","HiOutlineRectangleStack","HiOutlineTag","HiOutlineUserGroup","GiTeamIdea","jsx","_jsx","jsxs","_jsxs","Leftbar","_ref","showLeftbar","dispatch","user","state","_state$auth","auth","userData","joinedCommunities","_state$community","community","visibleCommunities","slice","communityLinks","map","href","concat","name","label","className","children","to","role","length","communityLink"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/components/shared/Leftbar.jsx"],"sourcesContent":["import { useMemo, useEffect, memo } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getJoinedCommunitiesAction } from \"../../redux/actions/communityActions\";\nimport {\n  HiOutlineHome,\n  HiOutlineUserCircle,\n  HiOutlineRectangleStack,\n  HiOutlineTag,\n} from \"react-icons/hi2\";\nimport { HiOutlineUserGroup } from \"react-icons/hi2\";\nimport { GiTeamIdea } from \"react-icons/gi\";\n\nconst Leftbar = ({ showLeftbar }) => {\n  const dispatch = useDispatch();\n\n  const user = useSelector((state) => state.auth?.userData);\n  const joinedCommunities = useSelector(\n    (state) => state.community?.joinedCommunities\n  );\n\n  useEffect(() => {\n    dispatch(getJoinedCommunitiesAction());\n  }, [dispatch]);\n\n  const visibleCommunities = useMemo(() => {\n    return joinedCommunities?.slice(0, 5);\n  }, [joinedCommunities]);\n\n  const communityLinks = useMemo(() => {\n    return visibleCommunities?.map((community) => ({\n      href: `/community/${community.name}`,\n      label: community.name,\n    }));\n  }, [visibleCommunities]);\n\n  return (\n    <div className={`${showLeftbar ? \"\" : \"hidden\"} leftbar`}>\n      <div className=\"flex flex-col justify-start items-center\">\n        <div className=\"flex flex-col items-start gap-4 w-full p-5\">\n          <Link\n            className=\"flex items-center gap-2 text-lg font-medium hover:text-primary\"\n            to=\"/home\"\n          >\n            <HiOutlineHome className=\"text-xl\" />\n            <p>Home</p>\n          </Link>\n          <Link\n            className=\"flex items-center gap-2 text-lg font-medium hover:text-primary\"\n            to=\"/profile\"\n          >\n            <HiOutlineUserCircle className=\"text-xl\" />\n            <p>Profile</p>\n          </Link>\n          <Link\n            className=\"flex items-center gap-2 text-lg font-medium hover:text-primary\"\n            to=\"/saved\"\n          >\n            <HiOutlineTag className=\"text-xl\" />\n            <p>Saved</p>\n          </Link>\n\n          {user && user.role === \"general\" && (\n            <Link\n              className=\"flex items-center gap-2 text-lg font-medium hover:text-primary\"\n              to=\"/following\"\n            >\n              <HiOutlineRectangleStack className=\"text-xl\" />\n              <p>Following</p>\n            </Link>\n          )}\n\n          <hr className=\"w-full my-4 border-gray-300\" />\n\n          {communityLinks && communityLinks.length > 0 ? (\n            <div className=\"w-full\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex gap-1 font-medium items-center\">\n                  <HiOutlineUserGroup className=\"text-xl\" />\n                  Communities\n                </div>\n\n                <Link\n                  className=\"flex relative items-center text-sm font-medium text-primary mr-4\"\n                  to=\"/my-communities\"\n                >\n                  See all\n                  <p className=\"absolute -top-2 -right-4 text-white text-xs bg-primary w-4 h-4 rounded-full flex justify-center items-center\">\n                    {\" \"}\n                    {joinedCommunities.length}\n                  </p>\n                </Link>\n              </div>\n              <ul className=\"w-full mt-3\">\n                {communityLinks.map((communityLink) => (\n                  <li key={communityLink.href}>\n                    <Link\n                      className=\"flex items-center hover:text-primary text-gray-600 font-medium gap-2 py-1\"\n                      to={communityLink.href}\n                    >\n                      {communityLink.label}\n                    </Link>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          ) : (\n            <div>No communities found.</div>\n          )}\n          {user && user.role === \"general\" && (\n            <div className=\"md:hidden\">\n              <hr className=\"w-full my-4 border-gray-300\" />\n              <div className=\"flex justify-center gap-1 items-center\">\n                <GiTeamIdea />\n                <Link to=\"/communities\" className=\"text-primary font-medium\">\n                  See all communities\n                </Link>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Leftbar);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}