{"ast":null,"code":"import _regeneratorRuntime from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Fragment,useRef,useState,memo}from\"react\";import{Dialog,Transition}from\"@headlessui/react\";import{useDispatch}from\"react-redux\";import{deletePostAction}from\"../../redux/actions/postActions\";import LoadingSpinner from\"../loader/ButtonLoadingSpinner\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DeleteModal=/*#__PURE__*/memo(function(_ref){var showModal=_ref.showModal,postId=_ref.postId,onClose=_ref.onClose,prevPath=_ref.prevPath;var dispatch=useDispatch();var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var deleteHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return dispatch(deletePostAction(postId));case 3:navigate(prevPath?prevPath:\"/\");setLoading(false);onClose();case 6:case\"end\":return _context.stop();}},_callee);}));return function deleteHandler(){return _ref2.apply(this,arguments);};}();var cancelButtonRef=useRef(null);return/*#__PURE__*/_jsx(Transition.Root,{show:showModal,as:Fragment,children:/*#__PURE__*/_jsxs(Dialog,{as:\"div\",className:\"relative z-50\",initialFocus:cancelButtonRef,onClose:onClose,children:[/*#__PURE__*/_jsx(Transition.Child,{as:Fragment,enter:\"ease-out duration-300\",enterFrom:\"opacity-0\",enterTo:\"opacity-100\",leave:\"ease-in duration-200\",leaveFrom:\"opacity-100\",leaveTo:\"opacity-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-10 overflow-y-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0\",children:/*#__PURE__*/_jsx(Transition.Child,{as:Fragment,enter:\"ease-out duration-300\",enterFrom:\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\",enterTo:\"opacity-100 translate-y-0 sm:scale-100\",leave:\"ease-in duration-200\",leaveFrom:\"opacity-100 translate-y-0 sm:scale-100\",leaveTo:\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\",children:/*#__PURE__*/_jsxs(Dialog.Panel,{className:\"relative transform overflow-hidden rounded-md bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10 border border-dashed\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:\"1.5\",stroke:\"currentColor\",className:\"w-6 h-6\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z\"})})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-base font-semibold mt-3 text-slate-800 text-center\",children:[\"Are you sure you want to delete? \",/*#__PURE__*/_jsx(\"br\",{}),\" This action cannot be undo.\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-3 sm:flex sm:flex-row-reverse justify-center gap-5 sm:px-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-red-500 border  border-red-500 hover:bg-red-500  rounded-md py-1 px-2 text-sm w-full sm:w-auto font-semibold hover:text-white transition duration-300\",onClick:deleteHandler,disabled:loading,children:loading?/*#__PURE__*/_jsx(LoadingSpinner,{loadingText:\"Deleting...\"}):\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{disabled:loading,type:\"button\",className:\"mt-3 inline-flex w-full border-dashed border justify-center rounded-md bg-white px-3  py-2 text-sm font-semibold text-gray-500 shadow-sm  hover:bg-slate-100 sm:mt-0 sm:w-auto\",onClick:function onClick(){onClose();},ref:cancelButtonRef,children:\"Cancel\"})]})]})})})})]})});});export default DeleteModal;","map":{"version":3,"names":["Fragment","useRef","useState","memo","Dialog","Transition","useDispatch","deletePostAction","LoadingSpinner","useNavigate","jsx","_jsx","jsxs","_jsxs","DeleteModal","_ref","showModal","postId","onClose","prevPath","dispatch","navigate","_useState","_useState2","_slicedToArray","loading","setLoading","deleteHandler","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","apply","arguments","cancelButtonRef","Root","show","as","children","className","initialFocus","Child","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","Panel","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","type","onClick","disabled","loadingText","ref"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/components/modals/DeleteModal.jsx"],"sourcesContent":["import { Fragment, useRef, useState, memo } from \"react\";\nimport { Dialog, Transition } from \"@headlessui/react\";\nimport { useDispatch } from \"react-redux\";\nimport { deletePostAction } from \"../../redux/actions/postActions\";\nimport LoadingSpinner from \"../loader/ButtonLoadingSpinner\";\nimport { useNavigate } from \"react-router-dom\";\nconst DeleteModal = memo(({ showModal, postId, onClose, prevPath }) => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const [loading, setLoading] = useState(false);\n\n  const deleteHandler = async () => {\n    setLoading(true);\n    await dispatch(deletePostAction(postId));\n    navigate(prevPath ? prevPath : \"/\");\n    setLoading(false);\n    onClose();\n  };\n\n  const cancelButtonRef = useRef(null);\n\n  return (\n    <Transition.Root show={showModal} as={Fragment}>\n      <Dialog\n        as=\"div\"\n        className=\"relative z-50\"\n        initialFocus={cancelButtonRef}\n        onClose={onClose}\n      >\n        <Transition.Child\n          as={Fragment}\n          enter=\"ease-out duration-300\"\n          enterFrom=\"opacity-0\"\n          enterTo=\"opacity-100\"\n          leave=\"ease-in duration-200\"\n          leaveFrom=\"opacity-100\"\n          leaveTo=\"opacity-0\"\n        >\n          <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" />\n        </Transition.Child>\n\n        <div className=\"fixed inset-0 z-10 overflow-y-auto\">\n          <div className=\"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n              enterTo=\"opacity-100 translate-y-0 sm:scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 translate-y-0 sm:scale-100\"\n              leaveTo=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n            >\n              <Dialog.Panel className=\"relative transform overflow-hidden rounded-md bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm\">\n                <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n                  <div className=\"flex flex-col items-center\">\n                    <div className=\"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10 border border-dashed\">\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        strokeWidth=\"1.5\"\n                        stroke=\"currentColor\"\n                        className=\"w-6 h-6\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          d=\"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z\"\n                        />\n                      </svg>\n                    </div>\n                    <p className=\"text-base font-semibold mt-3 text-slate-800 text-center\">\n                      Are you sure you want to delete? <br /> This action cannot\n                      be undo.\n                    </p>\n                  </div>\n                </div>\n                <div className=\"px-4 py-3 sm:flex sm:flex-row-reverse justify-center gap-5 sm:px-6\">\n                  <button\n                    type=\"button\"\n                    className=\"text-red-500 border  border-red-500\n                    hover:bg-red-500 \n                     rounded-md py-1 px-2 text-sm w-full sm:w-auto font-semibold hover:text-white transition duration-300\"\n                    onClick={deleteHandler}\n                    disabled={loading}\n                  >\n                    {loading ? (\n                      <LoadingSpinner loadingText=\"Deleting...\" />\n                    ) : (\n                      \"Delete\"\n                    )}\n                  </button>\n                  <button\n                    disabled={loading}\n                    type=\"button\"\n                    className=\"mt-3 inline-flex w-full border-dashed border justify-center rounded-md bg-white px-3  py-2 text-sm font-semibold text-gray-500 shadow-sm  hover:bg-slate-100 sm:mt-0 sm:w-auto\"\n                    onClick={() => {\n                      onClose();\n                    }}\n                    ref={cancelButtonRef}\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </Dialog.Panel>\n            </Transition.Child>\n          </div>\n        </div>\n      </Dialog>\n    </Transition.Root>\n  );\n});\n\nexport default DeleteModal;\n"],"mappings":"8aAAA,OAASA,QAAQ,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,IAAI,KAAQ,OAAO,CACxD,OAASC,MAAM,CAAEC,UAAU,KAAQ,mBAAmB,CACtD,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,gBAAgB,KAAQ,iCAAiC,CAClE,MAAO,CAAAC,cAAc,KAAM,gCAAgC,CAC3D,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAC/C,GAAM,CAAAC,WAAW,cAAGX,IAAI,CAAC,SAAAY,IAAA,CAA8C,IAA3C,CAAAC,SAAS,CAAAD,IAAA,CAATC,SAAS,CAAEC,MAAM,CAAAF,IAAA,CAANE,MAAM,CAAEC,OAAO,CAAAH,IAAA,CAAPG,OAAO,CAAEC,QAAQ,CAAAJ,IAAA,CAARI,QAAQ,CAC9D,GAAM,CAAAC,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAe,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B,IAAAa,SAAA,CAA8BpB,QAAQ,CAAC,KAAK,CAAC,CAAAqB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAE1B,GAAM,CAAAI,aAAa,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACpBX,UAAU,CAAC,IAAI,CAAC,CAACS,QAAA,CAAAE,IAAA,SACX,CAAAjB,QAAQ,CAACb,gBAAgB,CAACU,MAAM,CAAC,CAAC,QACxCI,QAAQ,CAACF,QAAQ,CAAGA,QAAQ,CAAG,GAAG,CAAC,CACnCO,UAAU,CAAC,KAAK,CAAC,CACjBR,OAAO,CAAC,CAAC,CAAC,wBAAAiB,QAAA,CAAAG,IAAA,MAAAN,OAAA,GACX,kBANK,CAAAL,aAAaA,CAAA,SAAAC,KAAA,CAAAW,KAAA,MAAAC,SAAA,OAMlB,CAED,GAAM,CAAAC,eAAe,CAAGxC,MAAM,CAAC,IAAI,CAAC,CAEpC,mBACEU,IAAA,CAACN,UAAU,CAACqC,IAAI,EAACC,IAAI,CAAE3B,SAAU,CAAC4B,EAAE,CAAE5C,QAAS,CAAA6C,QAAA,cAC7ChC,KAAA,CAACT,MAAM,EACLwC,EAAE,CAAC,KAAK,CACRE,SAAS,CAAC,eAAe,CACzBC,YAAY,CAAEN,eAAgB,CAC9BvB,OAAO,CAAEA,OAAQ,CAAA2B,QAAA,eAEjBlC,IAAA,CAACN,UAAU,CAAC2C,KAAK,EACfJ,EAAE,CAAE5C,QAAS,CACbiD,KAAK,CAAC,uBAAuB,CAC7BC,SAAS,CAAC,WAAW,CACrBC,OAAO,CAAC,aAAa,CACrBC,KAAK,CAAC,sBAAsB,CAC5BC,SAAS,CAAC,aAAa,CACvBC,OAAO,CAAC,WAAW,CAAAT,QAAA,cAEnBlC,IAAA,QAAKmC,SAAS,CAAC,4DAA4D,CAAE,CAAC,CAC9D,CAAC,cAEnBnC,IAAA,QAAKmC,SAAS,CAAC,oCAAoC,CAAAD,QAAA,cACjDlC,IAAA,QAAKmC,SAAS,CAAC,iFAAiF,CAAAD,QAAA,cAC9FlC,IAAA,CAACN,UAAU,CAAC2C,KAAK,EACfJ,EAAE,CAAE5C,QAAS,CACbiD,KAAK,CAAC,uBAAuB,CAC7BC,SAAS,CAAC,sDAAsD,CAChEC,OAAO,CAAC,wCAAwC,CAChDC,KAAK,CAAC,sBAAsB,CAC5BC,SAAS,CAAC,wCAAwC,CAClDC,OAAO,CAAC,sDAAsD,CAAAT,QAAA,cAE9DhC,KAAA,CAACT,MAAM,CAACmD,KAAK,EAACT,SAAS,CAAC,yHAAyH,CAAAD,QAAA,eAC/IlC,IAAA,QAAKmC,SAAS,CAAC,wCAAwC,CAAAD,QAAA,cACrDhC,KAAA,QAAKiC,SAAS,CAAC,4BAA4B,CAAAD,QAAA,eACzClC,IAAA,QAAKmC,SAAS,CAAC,uIAAuI,CAAAD,QAAA,cACpJlC,IAAA,QACE6C,KAAK,CAAC,4BAA4B,CAClCC,IAAI,CAAC,MAAM,CACXC,OAAO,CAAC,WAAW,CACnBC,WAAW,CAAC,KAAK,CACjBC,MAAM,CAAC,cAAc,CACrBd,SAAS,CAAC,SAAS,CAAAD,QAAA,cAEnBlC,IAAA,SACEkD,aAAa,CAAC,OAAO,CACrBC,cAAc,CAAC,OAAO,CACtBC,CAAC,CAAC,kLAAkL,CACrL,CAAC,CACC,CAAC,CACH,CAAC,cACNlD,KAAA,MAAGiC,SAAS,CAAC,yDAAyD,CAAAD,QAAA,EAAC,mCACpC,cAAAlC,IAAA,QAAK,CAAC,+BAEzC,EAAG,CAAC,EACD,CAAC,CACH,CAAC,cACNE,KAAA,QAAKiC,SAAS,CAAC,oEAAoE,CAAAD,QAAA,eACjFlC,IAAA,WACEqD,IAAI,CAAC,QAAQ,CACblB,SAAS,CAAC,4JAE4F,CACtGmB,OAAO,CAAEtC,aAAc,CACvBuC,QAAQ,CAAEzC,OAAQ,CAAAoB,QAAA,CAEjBpB,OAAO,cACNd,IAAA,CAACH,cAAc,EAAC2D,WAAW,CAAC,aAAa,CAAE,CAAC,CAE5C,QACD,CACK,CAAC,cACTxD,IAAA,WACEuD,QAAQ,CAAEzC,OAAQ,CAClBuC,IAAI,CAAC,QAAQ,CACblB,SAAS,CAAC,gLAAgL,CAC1LmB,OAAO,CAAE,SAAAA,QAAA,CAAM,CACb/C,OAAO,CAAC,CAAC,CACX,CAAE,CACFkD,GAAG,CAAE3B,eAAgB,CAAAI,QAAA,CACtB,QAED,CAAQ,CAAC,EACN,CAAC,EACM,CAAC,CACC,CAAC,CAChB,CAAC,CACH,CAAC,EACA,CAAC,CACM,CAAC,CAEtB,CAAC,CAAC,CAEF,cAAe,CAAA/B,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}