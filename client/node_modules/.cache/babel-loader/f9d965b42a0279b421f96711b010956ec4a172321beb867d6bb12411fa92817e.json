{"ast":null,"code":"import _regeneratorRuntime from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{memo,useEffect,useMemo,useState}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{getFollowingUsersPostsAction}from\"../../redux/actions/postActions\";import CommonLoading from\"../loader/CommonLoading\";import Post from\"../post/Post\";import NoPost from\"../../assets/nopost.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MemoizedPost=/*#__PURE__*/memo(Post);var FollowingUsersPosts=function FollowingUsersPosts(_ref){var communityData=_ref.communityData;var dispatch=useDispatch();var followingUsersPosts=useSelector(function(state){var _state$posts;return(_state$posts=state.posts)===null||_state$posts===void 0?void 0:_state$posts.followingUsersPosts;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];useEffect(function(){var fetchInitialPosts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setIsLoading(true);if(!(communityData!==null&&communityData!==void 0&&communityData._id)){_context.next=4;break;}_context.next=4;return dispatch(getFollowingUsersPostsAction(communityData._id));case 4:setIsLoading(false);case 5:case\"end\":return _context.stop();}},_callee);}));return function fetchInitialPosts(){return _ref2.apply(this,arguments);};}();fetchInitialPosts();},[dispatch,communityData]);var memoizedFollowingUsersPost=useMemo(function(){return followingUsersPosts.map(function(post){return/*#__PURE__*/_jsx(MemoizedPost,{post:post},post._id);});},[followingUsersPosts]);return/*#__PURE__*/_jsx(\"div\",{className:\"main-section\",children:isLoading||!communityData?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(CommonLoading,{})}):/*#__PURE__*/_jsx(_Fragment,{children:followingUsersPosts.length>0?/*#__PURE__*/_jsx(\"div\",{children:memoizedFollowingUsersPost}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center flex justify-center items-center flex-col\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"py-5 text-gray-500\",children:\"None of your following users have posted anything yet. Check back later!\"}),/*#__PURE__*/_jsx(\"img\",{loading:\"lazy\",src:NoPost,alt:\"no post\"})]})})});};export default FollowingUsersPosts;","map":{"version":3,"names":["memo","useEffect","useMemo","useState","useSelector","useDispatch","getFollowingUsersPostsAction","CommonLoading","Post","NoPost","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MemoizedPost","FollowingUsersPosts","_ref","communityData","dispatch","followingUsersPosts","state","_state$posts","posts","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","fetchInitialPosts","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","_id","stop","apply","arguments","memoizedFollowingUsersPost","map","post","className","children","length","loading","src","alt"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/components/community/FollowingUsersPosts.jsx"],"sourcesContent":["import { memo, useEffect, useMemo, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getFollowingUsersPostsAction } from \"../../redux/actions/postActions\";\nimport CommonLoading from \"../loader/CommonLoading\";\nimport Post from \"../post/Post\";\nimport NoPost from \"../../assets/nopost.jpg\";\n\nconst MemoizedPost = memo(Post);\n\nconst FollowingUsersPosts = ({ communityData }) => {\n  const dispatch = useDispatch();\n\n  const followingUsersPosts = useSelector(\n    (state) => state.posts?.followingUsersPosts\n  );\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchInitialPosts = async () => {\n      setIsLoading(true);\n      if (communityData?._id) {\n        await dispatch(getFollowingUsersPostsAction(communityData._id));\n      }\n      setIsLoading(false);\n    };\n    fetchInitialPosts();\n  }, [dispatch, communityData]);\n\n  const memoizedFollowingUsersPost = useMemo(() => {\n    return followingUsersPosts.map((post) => (\n      <MemoizedPost key={post._id} post={post} />\n    ));\n  }, [followingUsersPosts]);\n\n  return (\n    <div className=\"main-section\">\n      {isLoading || !communityData ? (\n        <div className=\"flex items-center justify-center\">\n          <CommonLoading />\n        </div>\n      ) : (\n        <>\n          {followingUsersPosts.length > 0 ? (\n            <div>{memoizedFollowingUsersPost}</div>\n          ) : (\n            <div className=\"text-center flex justify-center items-center flex-col\">\n              <p className=\"py-5 text-gray-500\">\n                None of your following users have posted anything yet. Check\n                back later!\n              </p>\n              <img loading=\"lazy\" src={NoPost} alt=\"no post\" />\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default FollowingUsersPosts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}