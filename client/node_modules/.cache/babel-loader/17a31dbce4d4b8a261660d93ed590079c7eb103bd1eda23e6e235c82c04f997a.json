{"ast":null,"code":"import _defineProperty from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,memo}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{getComMembersAction}from\"../../redux/actions/communityActions\";import{useLocation}from\"react-router\";import{Link}from\"react-router-dom\";import BanUserModal from\"../modals/BanUserModal\";import{CiLocationOn}from\"react-icons/ci\";import{IoTimerOutline}from\"react-icons/io5\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MembersList=function MembersList(){var dispatch=useDispatch();var location=useLocation();var communityName=location.pathname.split(\"/\")[2]||\"\";var _useState=useState({}),_useState2=_slicedToArray(_useState,2),banUserModalVisibility=_useState2[0],setBanUserModalVisibility=_useState2[1];var toggleBanUserModal=function toggleBanUserModal(userId,visible){setBanUserModalVisibility(function(prevVisibility){return _objectSpread(_objectSpread({},prevVisibility),{},_defineProperty({},userId,visible));});};useEffect(function(){dispatch(getComMembersAction(communityName));},[dispatch,communityName]);var communityMembers=useSelector(function(state){var _state$moderation;return(_state$moderation=state.moderation)===null||_state$moderation===void 0?void 0:_state$moderation.communityMembers;});return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[communityMembers&&communityMembers.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 font-semibold\",children:\"No members to show\"}),communityMembers&&communityMembers.map(function(member){var modalVisible=banUserModalVisibility[member._id]||false;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col border border-gray-200  px-6 py-3 my-3 rounded-lg \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"img\",{src:member.avatar,alt:\"profile\",className:\"w-16 h-16 rounded-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(Link,{to:\"/user/\".concat(member._id),className:\"ml-2 font-bold\",children:member.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"ml-2 text-xs flex gap-1 items-center\",children:[/*#__PURE__*/_jsx(CiLocationOn,{}),member.location]}),/*#__PURE__*/_jsxs(\"p\",{className:\"ml-2 flex gap-1 items-center text-xs\",children:[/*#__PURE__*/_jsx(IoTimerOutline,{}),new Date(member.createdAt).toDateString()]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){toggleBanUserModal(member._id,true);},className:\" bg-red-500 hover:bg-red-700 text-white font-bold rounded-lg px-4 py-2 h-9 flex justify-center items-center text-sm\",children:\"Ban user\"})]}),modalVisible&&/*#__PURE__*/_jsx(BanUserModal,{show:modalVisible,onClose:function onClose(){toggleBanUserModal(member._id,false);},userId:member._id,communityName:communityName},member._id)]},member._id);})]})});};export default/*#__PURE__*/memo(MembersList);","map":{"version":3,"names":["useEffect","useState","memo","useDispatch","useSelector","getComMembersAction","useLocation","Link","BanUserModal","CiLocationOn","IoTimerOutline","jsx","_jsx","jsxs","_jsxs","MembersList","dispatch","location","communityName","pathname","split","_useState","_useState2","_slicedToArray","banUserModalVisibility","setBanUserModalVisibility","toggleBanUserModal","userId","visible","prevVisibility","_objectSpread","_defineProperty","communityMembers","state","_state$moderation","moderation","className","children","length","map","member","modalVisible","_id","src","avatar","alt","to","concat","name","Date","createdAt","toDateString","onClick","show","onClose"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/components/moderator/MembersList.jsx"],"sourcesContent":["import { useEffect, useState, memo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getComMembersAction } from \"../../redux/actions/communityActions\";\nimport { useLocation } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport BanUserModal from \"../modals/BanUserModal\";\nimport { CiLocationOn } from \"react-icons/ci\";\nimport { IoTimerOutline } from \"react-icons/io5\";\n\nconst MembersList = () => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const communityName = location.pathname.split(\"/\")[2] || \"\";\n\n  const [banUserModalVisibility, setBanUserModalVisibility] = useState({});\n  const toggleBanUserModal = (userId, visible) => {\n    setBanUserModalVisibility((prevVisibility) => ({\n      ...prevVisibility,\n      [userId]: visible,\n    }));\n  };\n\n  useEffect(() => {\n    dispatch(getComMembersAction(communityName));\n  }, [dispatch, communityName]);\n\n  const communityMembers = useSelector(\n    (state) => state.moderation?.communityMembers\n  );\n\n  return (\n    <div className=\"flex flex-col\">\n      <div className=\"flex flex-col\">\n        {communityMembers && communityMembers.length === 0 && (\n          <p className=\"text-center text-gray-500 font-semibold\">\n            No members to show\n          </p>\n        )}\n        {communityMembers &&\n          communityMembers.map((member) => {\n            const modalVisible = banUserModalVisibility[member._id] || false;\n            return (\n              <div\n                key={member._id}\n                className=\"flex flex-col border border-gray-200  px-6 py-3 my-3 rounded-lg \"\n              >\n                <div className=\"flex justify-between items-center\">\n                  <div className=\"flex\">\n                    <img\n                      src={member.avatar}\n                      alt=\"profile\"\n                      className=\"w-16 h-16 rounded-full\"\n                    />\n                    <div className=\"flex flex-col\">\n                      <Link\n                        to={`/user/${member._id}`}\n                        className=\"ml-2 font-bold\"\n                      >\n                        {member.name}\n                      </Link>\n                      <p className=\"ml-2 text-xs flex gap-1 items-center\">\n                        <CiLocationOn />\n                        {member.location}\n                      </p>\n                      <p className=\"ml-2 flex gap-1 items-center text-xs\">\n                        <IoTimerOutline />\n                        {new Date(member.createdAt).toDateString()}\n                      </p>\n                    </div>\n                  </div>\n\n                  <button\n                    onClick={() => {\n                      toggleBanUserModal(member._id, true);\n                    }}\n                    className=\" bg-red-500 hover:bg-red-700 text-white font-bold rounded-lg px-4 py-2 h-9 flex justify-center items-center text-sm\"\n                  >\n                    Ban user\n                  </button>\n                </div>\n\n                {modalVisible && (\n                  <BanUserModal\n                    key={member._id}\n                    show={modalVisible}\n                    onClose={() => {\n                      toggleBanUserModal(member._id, false);\n                    }}\n                    userId={member._id}\n                    communityName={communityName}\n                  />\n                )}\n              </div>\n            );\n          })}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(MembersList);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}