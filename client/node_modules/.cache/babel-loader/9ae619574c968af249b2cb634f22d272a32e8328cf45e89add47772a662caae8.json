{"ast":null,"code":"import _regeneratorRuntime from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useDispatch}from\"react-redux\";import LoadingSpinner from\"../loader/ButtonLoadingSpinner\";import{getComMembersAction,banUserAction}from\"../../redux/actions/communityActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BanUserModal=function BanUserModal(_ref){var show=_ref.show,onClose=_ref.onClose,userId=_ref.userId,communityName=_ref.communityName;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),banning=_useState2[0],setBanning=_useState2[1];var dispatch=useDispatch();var banHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setBanning(true);_context.next=3;return dispatch(banUserAction(communityName,userId));case 3:_context.next=5;return dispatch(getComMembersAction(communityName));case 5:setBanning(false);onClose();case 7:case\"end\":return _context.stop();}},_callee);}));return function banHandler(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"fixed z-10 inset-0 overflow-y-auto \".concat(show?\"\":\"hidden\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity \".concat(show?\"\":\"hidden\"),\"aria-hidden\":\"true\",onClick:onClose,children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gray-500 opacity-75\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-block sm:align-middle sm:h-screen\",\"aria-hidden\":\"true\",children:\"\\u200B\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-block align-bottom bg-white rounded-md px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":\"modal-headline\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center sm:mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900\",id:\"modal-headline\",children:\"Ban User\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"The user will be banned from this community and will be listed in the banned users list. The user will not be able to join the community again unless the ban is lifted. Are you sure you want to ban this user?\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 sm:mt-6 flex justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:banning,onClick:onClose,className:\"w-1/2 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{disabled:banning,onClick:banHandler,className:\"w-1/2 rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm\",children:banning?/*#__PURE__*/_jsx(LoadingSpinner,{loadingText:\"banning...\"}):/*#__PURE__*/_jsx(\"span\",{children:\"Ban User\"})})]})]})]})});};export default BanUserModal;","map":{"version":3,"names":["useState","useDispatch","LoadingSpinner","getComMembersAction","banUserAction","jsx","_jsx","jsxs","_jsxs","BanUserModal","_ref","show","onClose","userId","communityName","_useState","_useState2","_slicedToArray","banning","setBanning","dispatch","banHandler","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","apply","arguments","className","concat","children","onClick","role","id","disabled","loadingText"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/components/modals/BanUserModal.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport LoadingSpinner from \"../loader/ButtonLoadingSpinner\";\nimport {\n  getComMembersAction,\n  banUserAction,\n} from \"../../redux/actions/communityActions\";\n\nconst BanUserModal = ({ show, onClose, userId, communityName }) => {\n  const [banning, setBanning] = useState(false);\n  const dispatch = useDispatch();\n\n  const banHandler = async () => {\n    setBanning(true);\n    await dispatch(banUserAction(communityName, userId));\n    await dispatch(getComMembersAction(communityName));\n    setBanning(false);\n    onClose();\n  };\n  return (\n    <div\n      className={`fixed z-10 inset-0 overflow-y-auto ${show ? \"\" : \"hidden\"}`}\n    >\n      <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n        <div\n          className={`fixed inset-0 transition-opacity ${show ? \"\" : \"hidden\"}`}\n          aria-hidden=\"true\"\n          onClick={onClose}\n        >\n          <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n        </div>\n\n        <span\n          className=\"hidden sm:inline-block sm:align-middle sm:h-screen\"\n          aria-hidden=\"true\"\n        >\n          &#8203;\n        </span>\n\n        <div\n          className=\"inline-block align-bottom bg-white rounded-md px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"modal-headline\"\n        >\n          <div>\n            <div className=\"mt-3 text-center sm:mt-5\">\n              <h3\n                className=\"text-lg leading-6 font-medium text-gray-900\"\n                id=\"modal-headline\"\n              >\n                Ban User\n              </h3>\n              <div className=\"mt-2\">\n                <p className=\"text-sm text-gray-500\">\n                  The user will be banned from this community and will be listed\n                  in the banned users list. The user will not be able to join\n                  the community again unless the ban is lifted. Are you sure you\n                  want to ban this user?\n                </p>\n              </div>\n            </div>\n          </div>\n          <div className=\"mt-5 sm:mt-6 flex justify-center space-x-2\">\n            <button\n              disabled={banning}\n              onClick={onClose}\n              className=\"w-1/2 rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm\"\n            >\n              Cancel\n            </button>\n            <button\n              disabled={banning}\n              onClick={banHandler}\n              className=\"w-1/2 rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm\"\n            >\n              {banning ? (\n                <LoadingSpinner loadingText={\"banning...\"} />\n              ) : (\n                <span>Ban User</span>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BanUserModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}