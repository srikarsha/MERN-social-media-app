{"ast":null,"code":"import _slicedToArray from\"E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useMemo}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import debounce from\"lodash/debounce\";import JoinModal from\"../modals/JoinModal\";import{MoonLoader}from\"react-spinners\";import{MdClear}from\"react-icons/md\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var BASE_URL=process.env.REACT_APP_API_URL;var Search=function Search(){var _JSON$parse;var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),posts=_useState4[0],setPosts=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),users=_useState6[0],setUsers=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),community=_useState8[0],setCommunity=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),joinedCommunity=_useState10[0],setJoinedCommunity=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];var accessToken=(_JSON$parse=JSON.parse(localStorage.getItem(\"profile\")))===null||_JSON$parse===void 0?void 0:_JSON$parse.accessToken;var setInitialValue=function setInitialValue(){setUsers([]);setPosts([]);setCommunity(null);setJoinedCommunity(null);setLoading(false);};var debouncedHandleSearch=useMemo(function(){return debounce(function(q){setLoading(true);var encodedQuery=encodeURIComponent(q);axios.get(\"\".concat(BASE_URL,\"/search?q=\").concat(encodedQuery),{headers:{Authorization:\"Bearer \".concat(accessToken),\"Content-Type\":\"application/json\"}}).then(function(res){var _res$data=res.data,posts=_res$data.posts,users=_res$data.users,community=_res$data.community,joinedCommunity=_res$data.joinedCommunity;setPosts(posts);setUsers(users);setCommunity(community);setJoinedCommunity(joinedCommunity);setLoading(false);}).catch(function(){setLoading(false);});},800);},[accessToken]);var handleInputChange=function handleInputChange(e){var value=e.target.value;setInputValue(value);if(value===\"\"){setInitialValue();return;}debouncedHandleSearch(value);};var clearValues=function clearValues(){setInitialValue();setInputValue(\"\");};useEffect(function(){return function(){setInitialValue();};},[]);var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),joinModalVisibility=_useState14[0],setJoinModalVisibility=_useState14[1];var toggleModal=function toggleModal(){setJoinModalVisibility(function(prev){return!prev;});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"search\",value:inputValue,onChange:handleInputChange,placeholder:\"Search for people, posts or communities\",className:\"h-10 py-1 bg-white border w-full md:w-[660px] rounded-full text-sm shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-500 transition duration-300 pl-3 pr-10\",\"aria-label\":\"Search\",autoComplete:\"off\"}),inputValue!==\"\"&&/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-0 right-0 h-full w-10 flex items-center justify-center text-gray-400 hover:text-gray-600\",onClick:clearValues,children:/*#__PURE__*/_jsx(MdClear,{})})]}),inputValue!==\"\"&&/*#__PURE__*/_jsxs(\"div\",{onBlur:function onBlur(){return!community&&clearValues();},className:\"absolute start-0 md:start-auto w-screen top-12 md:w-[660px] bg-white border rounded-md shadow-md\",children:[loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center py-2 px-2\",children:[/*#__PURE__*/_jsx(MoonLoader,{size:20,color:\"#008cff\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"Searching...\"})]}),posts.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"z-30\",children:posts.map(function(post){return/*#__PURE__*/_jsx(\"li\",{className:\"border-b py-2 px-4\",children:/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){navigate(\"/post/\".concat(post._id));clearValues();},className:\"block text-sm text-gray-700 hover:text-blue-500 cursor-pointer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"img\",{src:post.user.avatar,alt:post.user.name,className:\"h-8 w-8 rounded-full object-cover\",loading:\"lazy\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:post.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:post.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Posted by \",post.user.name,\" in \",post.community.name]})]})]})})},post._id);})}),users.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"z-30\",children:users.map(function(user){return/*#__PURE__*/_jsx(\"li\",{className:\"border-b py-2 px-4\",children:/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){navigate(\"/user/\".concat(user._id));clearValues();},className:\"block text-sm text-gray-700 hover:text-indigo-500 cursor-pointer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"img\",{src:user.avatar,alt:user.name,className:\"h-8 w-8 rounded-full\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:user.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:user.email})]})]})})},user._id);})}),community&&/*#__PURE__*/_jsx(\"div\",{className:\"border-b py-2 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"img\",{src:community.banner,alt:community.name,className:\"h-8 w-8 rounded-full\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\" px-2 flex justify-between items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:community.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm line-clamp-2\",children:community.description})]}),!community.isMember&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(JoinModal,{show:joinModalVisibility,onClose:function onClose(){toggleModal(false);setCommunity(null);},community:community}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-primary px-2 py-1 text-white text-sm rounded-md\",onClick:function onClick(){return toggleModal(true);},children:\"Join\"})]})]})]})}),joinedCommunity&&/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){navigate(\"/community/\".concat(joinedCommunity.name));clearValues();},className:\"block text-sm text-gray-700 hover:text-indigo-500 border-b py-2 px-4 cursor-pointer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"img\",{src:joinedCommunity.banner,alt:joinedCommunity.name,className:\"h-8 w-8 rounded-full\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-md text-primary\",children:joinedCommunity.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 line-clamp-2\",children:joinedCommunity.description})]})]})},joinedCommunity._id)]})]});};export default Search;","map":{"version":3,"names":["useState","useEffect","useMemo","useNavigate","axios","debounce","JoinModal","MoonLoader","MdClear","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BASE_URL","process","env","REACT_APP_API_URL","Search","_JSON$parse","navigate","_useState","_useState2","_slicedToArray","inputValue","setInputValue","_useState3","_useState4","posts","setPosts","_useState5","_useState6","users","setUsers","_useState7","_useState8","community","setCommunity","_useState9","_useState10","joinedCommunity","setJoinedCommunity","_useState11","_useState12","loading","setLoading","accessToken","JSON","parse","localStorage","getItem","setInitialValue","debouncedHandleSearch","q","encodedQuery","encodeURIComponent","get","concat","headers","Authorization","then","res","_res$data","data","catch","handleInputChange","e","value","target","clearValues","_useState13","_useState14","joinModalVisibility","setJoinModalVisibility","toggleModal","prev","children","className","type","id","onChange","placeholder","autoComplete","onClick","onBlur","size","color","length","map","post","_id","src","user","avatar","alt","name","title","content","email","banner","description","isMember","show","onClose"],"sources":["E:/SEM 4/MERN/end_sem_project/SocialEcho-main/client/src/components/shared/Search.jsx"],"sourcesContent":["import { useState, useEffect, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport debounce from \"lodash/debounce\";\nimport JoinModal from \"../modals/JoinModal\";\nimport { MoonLoader } from \"react-spinners\";\nimport { MdClear } from \"react-icons/md\";\n\nconst BASE_URL = process.env.REACT_APP_API_URL;\n\nconst Search = () => {\n  const navigate = useNavigate();\n  const [inputValue, setInputValue] = useState(\"\");\n  const [posts, setPosts] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [community, setCommunity] = useState(null);\n  const [joinedCommunity, setJoinedCommunity] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const accessToken = JSON.parse(localStorage.getItem(\"profile\"))?.accessToken;\n  const setInitialValue = () => {\n    setUsers([]);\n    setPosts([]);\n    setCommunity(null);\n    setJoinedCommunity(null);\n    setLoading(false);\n  };\n\n  const debouncedHandleSearch = useMemo(\n    () =>\n      debounce((q) => {\n        setLoading(true);\n        const encodedQuery = encodeURIComponent(q);\n        axios\n          .get(`${BASE_URL}/search?q=${encodedQuery}`, {\n            headers: {\n              Authorization: `Bearer ${accessToken}`,\n              \"Content-Type\": \"application/json\",\n            },\n          })\n          .then((res) => {\n            const { posts, users, community, joinedCommunity } = res.data;\n            setPosts(posts);\n            setUsers(users);\n            setCommunity(community);\n            setJoinedCommunity(joinedCommunity);\n            setLoading(false);\n          })\n          .catch(() => {\n            setLoading(false);\n          });\n      }, 800),\n    [accessToken]\n  );\n\n  const handleInputChange = (e) => {\n    const value = e.target.value;\n    setInputValue(value);\n\n    if (value === \"\") {\n      setInitialValue();\n      return;\n    }\n\n    debouncedHandleSearch(value);\n  };\n\n  const clearValues = () => {\n    setInitialValue();\n    setInputValue(\"\");\n  };\n\n  useEffect(() => {\n    return () => {\n      setInitialValue();\n    };\n  }, []);\n\n  const [joinModalVisibility, setJoinModalVisibility] = useState(false);\n  const toggleModal = () => {\n    setJoinModalVisibility((prev) => !prev);\n  };\n\n  return (\n    <div>\n      <div className=\"relative\">\n        <input\n          type=\"text\"\n          id=\"search\"\n          value={inputValue}\n          onChange={handleInputChange}\n          placeholder=\"Search for people, posts or communities\"\n          className=\"h-10 py-1 bg-white border w-full md:w-[660px] rounded-full text-sm shadow-sm focus:outline-none focus:shadow-outline-blue focus:border-blue-500 transition duration-300 pl-3 pr-10\"\n          aria-label=\"Search\"\n          autoComplete=\"off\"\n        />\n        {inputValue !== \"\" && (\n          <button\n            className=\"absolute top-0 right-0 h-full w-10 flex items-center justify-center text-gray-400 hover:text-gray-600\"\n            onClick={clearValues}\n          >\n            <MdClear />\n          </button>\n        )}\n      </div>\n\n      {inputValue !== \"\" && (\n        <div\n          onBlur={() => !community && clearValues()}\n          className=\"absolute start-0 md:start-auto w-screen top-12 md:w-[660px] bg-white border rounded-md shadow-md\"\n        >\n          {loading && (\n            <div className=\"flex items-center justify-center py-2 px-2\">\n              <MoonLoader size={20} color={\"#008cff\"} />\n              <span className=\"ml-2\">Searching...</span>\n            </div>\n          )}\n          {posts.length > 0 && (\n            <ul className=\"z-30\">\n              {posts.map((post) => (\n                <li key={post._id} className=\"border-b py-2 px-4\">\n                  <div\n                    onClick={() => {\n                      navigate(`/post/${post._id}`);\n                      clearValues();\n                    }}\n                    className=\"block text-sm text-gray-700 hover:text-blue-500 cursor-pointer\"\n                  >\n                    <div className=\"flex items-center\">\n                      <div className=\"flex-shrink-0\">\n                        <img\n                          src={post.user.avatar}\n                          alt={post.user.name}\n                          className=\"h-8 w-8 rounded-full object-cover\"\n                          loading=\"lazy\"\n                        />\n                      </div>\n                      <div className=\"ml-3\">\n                        <div className=\"font-medium text-gray-900\">\n                          {post.title}\n                        </div>\n                        <div className=\"text-sm text-gray-500\">\n                          {post.content}\n                        </div>\n                        <div className=\"text-sm text-gray-500\">\n                          Posted by {post.user.name} in {post.community.name}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          )}\n          {users.length > 0 && (\n            <ul className=\"z-30\">\n              {users.map((user) => (\n                <li key={user._id} className=\"border-b py-2 px-4\">\n                  <div\n                    onClick={() => {\n                      navigate(`/user/${user._id}`);\n                      clearValues();\n                    }}\n                    className=\"block text-sm text-gray-700 hover:text-indigo-500 cursor-pointer\"\n                  >\n                    <div className=\"flex items-center\">\n                      <div className=\"flex-shrink-0\">\n                        <img\n                          src={user.avatar}\n                          alt={user.name}\n                          className=\"h-8 w-8 rounded-full\"\n                        />\n                      </div>\n                      <div className=\"ml-3\">\n                        <div className=\"font-medium text-gray-900\">\n                          {user.name}\n                        </div>\n                        <div className=\"text-sm text-gray-500\">\n                          {user.email}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          )}\n          {community && (\n            <div className=\"border-b py-2 px-4\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <img\n                    src={community.banner}\n                    alt={community.name}\n                    className=\"h-8 w-8 rounded-full\"\n                  />\n                </div>\n                <div className=\" px-2 flex justify-between items-center gap-2\">\n                  <div className=\"\">\n                    <p className=\"font-medium\">{community.name}</p>\n\n                    <p className=\"text-sm line-clamp-2\">\n                      {community.description}\n                    </p>\n                  </div>\n\n                  {!community.isMember && (\n                    <>\n                      <JoinModal\n                        show={joinModalVisibility}\n                        onClose={() => {\n                          toggleModal(false);\n                          setCommunity(null);\n                        }}\n                        community={community}\n                      />\n                      <button\n                        className=\"bg-primary px-2 py-1 text-white text-sm rounded-md\"\n                        onClick={() => toggleModal(true)}\n                      >\n                        Join\n                      </button>\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {joinedCommunity && (\n            <div\n              key={joinedCommunity._id}\n              onClick={() => {\n                navigate(`/community/${joinedCommunity.name}`);\n                clearValues();\n              }}\n              className=\"block text-sm text-gray-700 hover:text-indigo-500 border-b py-2 px-4 cursor-pointer\"\n            >\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <img\n                    src={joinedCommunity.banner}\n                    alt={joinedCommunity.name}\n                    className=\"h-8 w-8 rounded-full\"\n                  />\n                </div>\n                <div className=\"ml-3\">\n                  <p className=\"font-semibold text-md text-primary\">\n                    {joinedCommunity.name}\n                  </p>\n                  <p className=\"text-sm text-gray-600 line-clamp-2\">\n                    {joinedCommunity.description}\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Search;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}